{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","cards","setCards","useState","filtered","setFiltered","query","setQuery","useRegex","setUseRegex","deckMain","setDeckMain","deckLrig","setDeckLrig","showMainDeck","setShowMainDeck","searchFields","setSearchFields","カード名","効果テキスト","ライフバースト","カード種類","カードタイプ","displayOrder","displayFields","setDisplayFields","色","レベル","コスト","パワー","使用タイミング","fieldLabels","useEffect","fetch","concat","process","Date","now","then","res","json","data","handleSearch","keywords","split","filter","Boolean","activeFields","Object","entries","_ref","_","checked","map","_ref2","field","result","card","every","keyword","pattern","RegExp","some","text","test","toLowerCase","includes","e","console","error","uniqueByCardName","seen","Set","has","add","push","log","c","deck","totalCards","values","reduce","sum","item","count","totalLB","sortedDeckEntries","sort","_ref3","_ref4","aName","aData","bName","bData","aHasLB","React","createElement","className","style","padding","fontFamily","position","marginBottom","width","type","placeholder","value","onChange","target","onKeyDown","key","marginLeft","keys","marginRight","_objectSpread","[object Object]","toggleField","toggleDisplayField","onClick","length","border","cellPadding","i","_deck$name","isLrigDeckCard","setDeck","name","addToDeck","cursor","href","rel","fontSize","stopPropagation","j","bottom","right","background","borderRadius","maxWidth","boxShadow","textAlign","display","justifyContent","listStyle","paddingLeft","_ref5","isMain","arguments","undefined","updated","removeFromDeck","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.7b3ac5fb.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [useRegex, setUseRegex] = useState(false);\n  const [deckMain, setDeckMain] = useState({});\n  const [deckLrig, setDeckLrig] = useState({});\n  const [showMainDeck, setShowMainDeck] = useState(true);\n  const [searchFields, setSearchFields] = useState({\n    カード名: true,\n    効果テキスト: true,\n    ライフバースト: false,\n    カード種類: false,\n    カードタイプ: false,\n  });\n  const displayOrder = [\n    \"効果テキスト\",\n    \"ライフバースト\",\n    \"カード種類\",\n    \"カードタイプ\",\n    \"色\",\n    \"レベル\",\n    \"コスト\",\n    \"パワー\",\n    \"使用タイミング\"\n  ];\n  const [displayFields, setDisplayFields] = useState({\n    効果テキスト: true,\n    ライフバースト: true,\n    カード種類: true,\n    カードタイプ: true,\n    色: true,\n    レベル: true,\n    コスト: true,\n    パワー: true,\n    使用タイミング: true,\n  });\n\n  const fieldLabels = {\n    カード名: \"カード名\",\n    効果テキスト: \"効果テキスト\",\n    ライフバースト: \"LB\",\n    カード種類: \"種類\",\n    カードタイプ: \"タイプ\",\n    色: \"色\",\n    レベル: \"レベル\",\n    コスト: \"コスト\",\n    パワー: \"パワー\",\n    使用タイミング: \"使用タイミング\",\n  };\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/cards.json?t=${Date.now()}`)\n      .then((res) => res.json())\n      .then((data) => setCards(data));\n  }, []);\n\n  const handleSearch = () => {\n    const keywords = query.split(/\\s+/).filter(Boolean);\n    const activeFields = Object.entries(searchFields)\n      .filter(([_, checked]) => checked)\n      .map(([field]) => field);\n\n    const result = cards.filter((card) =>\n      keywords.every((keyword) => {\n        try {\n          const pattern = useRegex ? new RegExp(keyword, \"i\") : null;\n          return activeFields.some((field) => {\n            const text = card[field] || \"\";\n            return useRegex ? pattern.test(text) : text.toLowerCase().includes(keyword.toLowerCase());\n          });\n        } catch (e) {\n          console.error(\"Invalid regex:\", keyword);\n          return false;\n        }\n      })\n    );\n\n    const uniqueByCardName = [];\n    const seen = new Set();\n    for (const card of result) {\n      if (!seen.has(card[\"カード名\"])) {\n        seen.add(card[\"カード名\"]);\n        uniqueByCardName.push(card);\n      }\n    }\n\n    console.log(\"検索結果のカード番号:\", uniqueByCardName.map(c => c[\"カード番号\"]));\n\n    setFiltered(uniqueByCardName);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n      handleSearch();\n    }\n  };\n\n  const toggleField = (field) => {\n    setSearchFields({ ...searchFields, [field]: !searchFields[field] });\n  };\n\n  const toggleDisplayField = (field) => {\n    setDisplayFields({ ...displayFields, [field]: !displayFields[field] });\n  };\n\n  const addToDeck = (card) => {\n    const isLrigDeckCard = [\"ルリグ\", \"アシストルリグ\", \"ピース\", \"アーツ\"].includes(card[\"カード種類\"]);\n    const setDeck = isLrigDeckCard ? setDeckLrig : setDeckMain;\n    const deck = isLrigDeckCard ? deckLrig : deckMain;\n    const name = card[\"カード名\"];\n    const count = deck[name]?.count || 0;\n    if (count >= 4) return;\n    setDeck({\n      ...deck,\n      [name]: {\n        count: count + 1,\n        ライフバースト: card[\"ライフバースト\"],\n        カード種類: card[\"カード種類\"]\n      },\n    });\n  };\n\n  const removeFromDeck = (name, isMain = true) => {\n    const setDeck = isMain ? setDeckMain : setDeckLrig;\n    const deck = isMain ? deckMain : deckLrig;\n    const updated = { ...deck };\n    if (updated[name].count > 1) {\n      updated[name].count--;\n    } else {\n      delete updated[name];\n    }\n    setDeck(updated);\n  };\n\n  const deck = showMainDeck ? deckMain : deckLrig;\n  const totalCards = Object.values(deck).reduce((sum, item) => sum + item.count, 0);\n  const totalLB = Object.values(deck).reduce(\n    (sum, item) => sum + (item.ライフバースト && item.ライフバースト !== \"―\" ? item.count : 0),\n    0\n  );\n\n  const sortedDeckEntries = Object.entries(deck).sort(([aName, aData], [bName, bData]) => {\n    const aHasLB = aData.ライフバースト && aData.ライフバースト !== \"―\";\n    const bHasLB = bData.ライフバースト && bData.ライフバースト !== \"―\";\n    if (aHasLB === bHasLB) return 0;\n    return aHasLB ? -1 : 1;\n  });\n\n  return (\n    <div className=\"App\" style={{ padding: \"2rem\", fontFamily: \"sans-serif\", position: \"relative\" }}>\n      <h1>WIXOSS カード検索</h1>\n      <input\n        style={{ marginBottom: \"1rem\", padding: \"0.5em\", width: \"300px\" }}\n        type=\"text\"\n        placeholder=\"検索ワードを入力\"\n        value={query}\n        onChange={(e) => setQuery(e.target.value)}\n        onKeyDown={handleKeyDown}\n      />\n      <label style={{ marginLeft: \"1em\" }}>\n        <input\n          type=\"checkbox\"\n          checked={useRegex}\n          onChange={() => setUseRegex(!useRegex)}\n        /> 正規表現\n      </label>\n\n      <div style={{ marginBottom: \"1rem\" }}>\n        <strong>検索対象:</strong>\n        {Object.keys(searchFields).map((field) => (\n          <label key={field} style={{ marginRight: \"1em\" }}>\n            <input\n              type=\"checkbox\"\n              checked={searchFields[field]}\n              onChange={() => toggleField(field)}\n            />\n            {fieldLabels[field] || field}\n          </label>\n        ))}\n      </div>\n\n      <div style={{ marginBottom: \"1rem\" }}>\n        <strong>表示項目:</strong>\n        {displayOrder.map((field) => (\n          <label key={field} style={{ marginRight: \"1em\" }}>\n            <input\n              type=\"checkbox\"\n              checked={displayFields[field]}\n              onChange={() => toggleDisplayField(field)}\n            />\n            {fieldLabels[field] || field}\n          </label>\n        ))}\n      </div>\n\n      <button onClick={handleSearch}>検索</button>\n\n      {filtered.length > 0 && (\n        <table border=\"1\" cellPadding=\"4\">\n          <thead>\n            <tr>\n              <th>カード名</th>\n              {displayOrder.filter((key) => displayFields[key]).map((key, i) => (\n                <th key={i}>{fieldLabels[key] || key}</th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {filtered.map((card, i) => (\n              <tr key={i}>\n                <td onClick={() => addToDeck(card)} style={{ cursor: \"pointer\" }}>\n                  {card[\"カード名\"]} {\" \"}\n                  <a\n                    href={`https://www.takaratomy.co.jp/products/wixoss/library/card/card_detail.php?card_no=${card[\"カード番号\"]}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    style={{ marginLeft: \"0.3em\", fontSize: \"0.8em\" }}\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    ❔\n                  </a>\n                </td>\n                {displayOrder.filter((key) => displayFields[key]).map((key, j) => (\n                  <td key={j}>{card[key]}</td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      )}\n\n      <div style={{\n        position: \"fixed\",\n        bottom: \"20px\",\n        right: \"20px\",\n        background: \"#fff\",\n        border: \"1px solid #ccc\",\n        padding: \"1em\",\n        borderRadius: \"8px\",\n        maxWidth: \"300px\",\n        boxShadow: \"0 0 10px rgba(0,0,0,0.2)\",\n        textAlign: \"left\"\n      }}>\n        <h3 style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n          現在の{showMainDeck ? \"メインデッキ\" : \"ルリグデッキ\"}\n          <button onClick={() => setShowMainDeck(!showMainDeck)}>\n            切替\n          </button>\n        </h3>\n        <p>枚数: {totalCards} / LB: {totalLB}</p>\n        {sortedDeckEntries.length > 0 ? (\n          <ul style={{ listStyle: \"none\", paddingLeft: 0 }}>\n            {sortedDeckEntries.map(([name, data]) => (\n              <li\n                key={name}\n                onClick={() => removeFromDeck(name, showMainDeck)}\n                style={{ cursor: \"pointer\", display: \"flex\", justifyContent: \"space-between\" }}\n              >\n                <span>{data.ライフバースト !== \"―\" ? \"★\" : \"\"}{name}</span>\n                <span style={{ marginLeft: \"0.5em\" }}>×{data.count}</span>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>カードが追加されていません。</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}