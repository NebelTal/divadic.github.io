{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","cards","setCards","useState","filtered","setFiltered","query","setQuery","useRegex","setUseRegex","searchFields","setSearchFields","カード名","効果テキスト","ライフバースト","カード種類","カードタイプ","displayFields","setDisplayFields","色","レベル","コスト","パワー","使用タイミング","deckMain","setDeckMain","deckLrig","setDeckLrig","showMainDeck","setShowMainDeck","minimized","setMinimized","displayOrder","fieldLabels","isLrigCard","type","includes","useEffect","fetch","concat","process","Date","now","then","res","json","data","handleSearch","keywords","trim","split","filter","Boolean","activeFields","Object","keys","key","result","card","every","kw","regex","RegExp","some","field","value","test","toLowerCase","e","console","error","seen","Set","unique","c","has","add","adjustDeck","cardName","delta","lb","isLrig","maxCount","prev","_prev$cardName","prevCount","count","newCount","Math","max","min","copy","_objectSpread","[object Object]","currentDeck","deckEntries","entries","totalCount","reduce","acc","_ref","v","lbCount","_ref2","React","createElement","className","placeholder","onChange","target","onKeyDown","onClick","style","marginLeft","checked","map","toggleField","toggleDisplayField","i","cursor","href","rel","fontSize","stopPropagation","listStyle","paddingLeft","_ref3","name","info","display","justifyContent","alignItems","marginRight","disabled","opacity","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.80a7f52e.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [useRegex, setUseRegex] = useState(false);\n  const [searchFields, setSearchFields] = useState({\n    カード名: true,\n    効果テキスト: true,\n    ライフバースト: false,\n    カード種類: false,\n    カードタイプ: false,\n  });\n  const [displayFields, setDisplayFields] = useState({\n    カード種類: true,\n    カードタイプ: true,\n    色: true,\n    レベル: true,\n    コスト: true,\n    パワー: true,\n    効果テキスト: true,\n    ライフバースト: true,\n    使用タイミング: true,\n  });\n  const [deckMain, setDeckMain] = useState({});\n  const [deckLrig, setDeckLrig] = useState({});\n  const [showMainDeck, setShowMainDeck] = useState(true);\n  const [minimized, setMinimized] = useState(false);\n\n  const displayOrder = [\n    \"カード種類\",\n    \"カードタイプ\",\n    \"色\",\n    \"レベル\",\n    \"コスト\",\n    \"パワー\",\n    \"効果テキスト\",\n    \"ライフバースト\",\n    \"使用タイミング\",\n  ];\n\n  const fieldLabels = {\n    カード名: \"カード名\",\n    効果テキスト: \"効果テキスト\",\n    ライフバースト: \"LB\",\n    カード種類: \"種類\",\n    カードタイプ: \"タイプ\",\n    色: \"色\",\n    レベル: \"Lv\",\n    コスト: \"コスト\",\n    パワー: \"パワー\",\n    使用タイミング: \"タイミング\",\n  };\n\n  const isLrigCard = (type) =>\n    [\"ルリグ\", \"アシストルリグ\", \"ピース\", \"アーツ\"].includes(type);\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/cards.json?t=${Date.now()}`)\n      .then((res) => res.json())\n      .then((data) => setCards(data));\n  }, []);\n\n  const handleSearch = () => {\n    const keywords = query.trim().split(/\\s+/).filter(Boolean);\n    const activeFields = Object.keys(searchFields).filter((key) => searchFields[key]);\n\n    const result = cards.filter((card) =>\n      keywords.every((kw) => {\n        try {\n          const regex = useRegex ? new RegExp(kw, \"i\") : null;\n          return activeFields.some((field) => {\n            const value = card[field] || \"\";\n            return useRegex\n              ? regex.test(value)\n              : value.toLowerCase().includes(kw.toLowerCase());\n          });\n        } catch (e) {\n          console.error(\"Invalid regex:\", kw);\n          return false;\n        }\n      })\n    );\n\n    const seen = new Set();\n    const unique = result.filter((c) => {\n      if (seen.has(c[\"カード名\"])) return false;\n      seen.add(c[\"カード名\"]);\n      return true;\n    });\n\n    setFiltered(unique);\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") handleSearch();\n  };\n\n  const toggleField = (field) => {\n    setSearchFields((prev) => ({ ...prev, [field]: !prev[field] }));\n  };\n\n  const toggleDisplayField = (field) => {\n    setDisplayFields((prev) => ({ ...prev, [field]: !prev[field] }));\n  };\n\n  const adjustDeck = (cardName, delta, type, lb) => {\n    const isLrig = isLrigCard(type);\n    const setDeck = isLrig ? setDeckLrig : setDeckMain;\n    const deck = isLrig ? deckLrig : deckMain;\n    const maxCount = isLrig ? 1 : 4;\n\n    setDeck((prev) => {\n      const prevCount = prev[cardName]?.count || 0;\n      const newCount = Math.max(0, Math.min(maxCount, prevCount + delta));\n      if (newCount === 0) {\n        const copy = { ...prev };\n        delete copy[cardName];\n        return copy;\n      }\n      return {\n        ...prev,\n        [cardName]: { count: newCount, ライフバースト: lb, カード種類: type },\n      };\n    });\n  };\n\n  const currentDeck = showMainDeck ? deckMain : deckLrig;\n  const deckEntries = Object.entries(currentDeck);\n  const totalCount = deckEntries.reduce((acc, [, v]) => acc + v.count, 0);\n  const lbCount = deckEntries.reduce(\n  (acc, [, v]) =>\n    (v.ライフバースト && v.ライフバースト !== \"―\") ? acc + v.count : acc,\n  0\n);\n\n\n  return (\n    <div className=\"App\">\n      <div className=\"header-fixed\">\n        <h1>WIXOSS カード検索</h1>\n        <input\n          type=\"text\"\n          placeholder=\"検索...\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          onKeyDown={handleKeyDown}\n        />\n        <button onClick={handleSearch}>検索</button>\n        <label style={{ marginLeft: \"10px\" }}>\n          <input\n            type=\"checkbox\"\n            checked={useRegex}\n            onChange={() => setUseRegex(!useRegex)}\n          /> 正規表現\n        </label>\n        <div className=\"field-controls\">\n          <strong>検索対象:</strong>\n          {Object.keys(searchFields).map((field) => (\n            <label key={field} style={{ marginLeft: \"10px\" }}>\n              <input\n                type=\"checkbox\"\n                checked={searchFields[field]}\n                onChange={() => toggleField(field)}\n              /> {fieldLabels[field] || field}\n            </label>\n          ))}\n        </div>\n        <div className=\"field-controls\">\n          <strong>表示項目:</strong>\n          {displayOrder.map((field) => (\n            <label key={field} style={{ marginLeft: \"10px\" }}>\n              <input\n                type=\"checkbox\"\n                checked={displayFields[field]}\n                onChange={() => toggleDisplayField(field)}\n              /> {fieldLabels[field] || field}\n            </label>\n          ))}\n        </div>\n        <table className=\"fixed-header-table\">\n          <thead>\n            <tr>\n              <th>カード名</th>\n              {displayOrder\n                .filter((key) => displayFields[key])\n                .map((key) => (\n                  <th key={key}>{fieldLabels[key]}</th>\n                ))}\n            </tr>\n          </thead>\n        </table>\n      </div>\n\n      <div className=\"table-container\">\n        <table className=\"fixed-header-table\">\n          <tbody>\n            {filtered.map((card, i) => (\n              <tr key={i}>\n                <td>\n                  <span\n                    style={{ cursor: \"pointer\" }}\n                    onClick={() =>\n                      adjustDeck(\n                        card[\"カード名\"],\n                        1,\n                        card[\"カード種類\"],\n                        card[\"ライフバースト\"]\n                      )\n                    }\n                  >\n                    {card[\"カード名\"]}\n                  </span>\n                  <a\n                    href={`https://www.takaratomy.co.jp/products/wixoss/library/card/card_detail.php?card_no=${card[\"カード番号\"]}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    style={{ marginLeft: \"0.3em\", fontSize: \"0.8em\" }}\n                    onClick={(e) => e.stopPropagation()}\n                  >\n                    ❔\n                  </a>\n                </td>\n                {displayOrder\n                  .filter((key) => displayFields[key])\n                  .map((key) => (\n                    <td key={key}>{card[key]}</td>\n                  ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      <div className=\"deck-box\">\n        <div className=\"deck-header\">\n          <h3>{showMainDeck ? \"現在のメインデッキ\" : \"現在のルリグデッキ\"}</h3>\n          <div>\n            <button onClick={() => setShowMainDeck(!showMainDeck)}>\n              {showMainDeck ? \"ルリグ\" : \"メイン\"}\n            </button>\n            <button onClick={() => setMinimized(!minimized)}>\n              {minimized ? \"＋\" : \"－\"}\n            </button>\n          </div>\n        </div>\n        <p>\n          枚数: {totalCount} {showMainDeck && `/ LB: ${lbCount}`}\n        </p>\n        {!minimized && (\n          <ul style={{ listStyle: \"none\", paddingLeft: 0 }}>\n            {deckEntries.map(([name, info]) => (\n              <li\n                key={name}\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                }}\n              >\n                <span>{info.ライフバースト && info.ライフバースト !== \"―\" ? \"★\" : \"\"}{name}</span>\n                <span\n                  style={{\n                    marginLeft: \"0.5em\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                  }}\n                >\n                  <button\n                    onClick={() =>\n                      adjustDeck(name, -1, info.カード種類, info.ライフバースト)\n                    }\n                    style={{ marginRight: 4 }}\n                  >\n                    －\n                  </button>\n                  <span>×{info.count}</span>\n                  {!isLrigCard(info.カード種類) && (\n  <button\n    onClick={() =>\n      adjustDeck(name, 1, info.カード種類, info.ライフバースト)\n    }\n    disabled={info.count >= 4}\n    style={{ marginLeft: 4, opacity: info.count >= 4 ? 0.5 : 1 }}\n  >\n    ＋\n  </button>\n)}\n                </span>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}