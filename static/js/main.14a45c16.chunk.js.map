{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","cards","setCards","useState","filtered","setFiltered","query","setQuery","useRegex","setUseRegex","searchFields","setSearchFields","カード名","効果テキスト","ライフバースト","カード種類","カードタイプ","deckMain","setDeckMain","deckLrig","setDeckLrig","showMainDeck","setShowMainDeck","minimized","setMinimized","showModal","setShowModal","outputText","setOutputText","showImportModal","setShowImportModal","showPrintModal","setShowPrintModal","importText","setImportText","templateKey","setTemplateKey","templates","Ceremony","WC2025","toHiragana","arguments","length","undefined","replace","ch","String","fromCharCode","charCodeAt","fieldLabels","色","レベル","コスト","パワー","使用タイミング","isLrigCard","type","includes","useEffect","fetch","concat","process","Date","now","then","res","json","data","handleSearch","keywords","trim","split","filter","Boolean","activeFields","Object","keys","key","result","card","every","kw","normalizedKw","toLowerCase","regex","RegExp","some","field","raw","toString","hitName","reading","hitReading","test","seen","Set","unique","c","has","add","drawDeckOnTemplate","img","cardList","numList","canvas","document","createElement","width","naturalWidth","height","naturalHeight","ctx","getContext","drawImage","font","fillStyle","x","y","i","text","Lrig","fillText","diff","LB","fromNLB","nLB","splice","console","log","lrigKeys","expandedLBList","expandedNLBList","lbList","flatMap","_ref","name","attr","Array","count","fill","_ref2","info","moveNLBs","_ref3","push","nlbList","_ref4","toDataURL","getCardImageUrl","cardNumber","parts","prefix","adjustDeck","cardName","delta","lb","isLrig","maxCount","prev","_prev$cardName","prevCount","newCount","Math","max","min","copy","_objectSpread","[object Object]","currentDeck","deckEntries","entries","totalCount","reduce","acc","_ref11","v","lbCount","_ref12","React","className","style","backgroundImage","src","alt","placeholder","value","onChange","e","target","onKeyDown","onClick","FaSearch","checked","map","Fragment","id","toggleField","htmlFor","justifyContent","marginBottom","MdChangeCircle","LuMaximize2","margin","fontSize","values","listStyle","paddingLeft","_ref13","display","alignItems","marginLeft","marginRight","paddingRight","paddingTop","paddingBottom","disabled","opacity","handleAddSaba","find","alert","handleOutputClick","getCardNumbers","deck","_ref5","_cards$find","lrigList","mainList","lbCards","_ref6","nonLbCards","_ref7","all","fromEntries","join","href","rel","stopPropagation","FiExternalLink","verticalAlign","marginTop","dangerouslySetInnerHTML","__html","position","top","left","right","bottom","backgroundColor","zIndex","padding","borderRadius","maxWidth","background","border","cursor","readOnly","whiteSpace","fontFamily","gap","handleCopy","navigator","clipboard","writeText","catch","async","getCardInfo","lrigEntries","_ref1","mainEntries","_ref10","cardType","level","signiByLevel","spells","forEach","entry","sortedLevels","sort","a","b","parseInt","createPlaceholderImage","fillRect","textAlign","textBaseline","chars","lines","currentLine","testLine","measureText","startY","line","index","strokeStyle","lineWidth","strokeRect","createCardHtml","url","countHtml","placeholderDataUrl","htmlContent","arr","newTab","window","open","write","close","error","_ref14","path","toUpperCase","handlePrintClick","_ref8","_cards$find2","_ref9","_ref0","nonLbList","openImageInNewTab","imageUrl","body","innerHTML","Image","complete","onload","newMain","newLrig","_target$name","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"mQAskCeA,MA9jCf,WACE,MAAOC,EAAOC,GAAYC,cAAS,KAC5BC,EAAUC,GAAeF,cAAS,KAClCG,EAAOC,GAAYJ,cAAS,KAC5BK,EAAUC,GAAeN,eAAS,IAClCO,EAAcC,GAAmBR,cAAS,CAC/CS,4BAAM,EACNC,wCAAQ,EACRC,8CAAS,EACTC,kCAAO,EACPC,wCAAQ,KAEHC,EAAUC,GAAef,cAAS,KAClCgB,EAAUC,GAAejB,cAAS,KAClCkB,EAAcC,GAAmBnB,eAAS,IAC1CoB,EAAWC,GAAgBrB,eAAS,IACpCsB,EAAWC,GAAgBvB,eAAS,IACpCwB,EAAYC,GAAiBzB,cAAS,KACtC0B,EAAiBC,GAAsB3B,eAAS,IAChD4B,EAAgBC,GAAqB7B,eAAS,IAC9C8B,EAAYC,GAAiB/B,cAAS,KACtCgC,EAAaC,GAAkBjC,cAAS,YACzCkC,EAAY,CAClBC,SAAU,uBACVC,OAAQ,+BAGJC,EAAa,WAAS,OAALC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,IACpBG,QAAQ,mBAAoBC,GAC9BC,OAAOC,aAAaF,EAAGG,WAAW,GAAK,MAGnCC,EAAc,CAClBrC,2BAAM,2BACNC,uCAAQ,uCACRC,6CAAS,KACTC,iCAAO,eACPC,uCAAQ,qBACRkC,SAAG,SACHC,qBAAK,KACLC,qBAAK,qBACLC,qBAAK,qBACLC,6CAAS,kCAGLC,EAAcC,GAClB,CAAC,qBAAO,6CAAW,qBAAO,sBAAOC,SAASD,GAE5CE,cAAU,KACRC,MAAK,GAAAC,OAAIC,qBAAsB,kBAAAD,OAAiBE,KAAKC,QAClDC,KAAMC,GAAQA,EAAIC,QAClBF,KAAMG,GAASjE,EAASiE,KAC1B,IAEL,MAAMC,EAAeA,KACnB,MAAMC,EAAW/D,EAAMgE,OAAOC,MAAM,OAAOC,OAAOC,SAC5CC,EAAeC,OAAOC,KAAKlE,GAAc8D,OAAQK,GAAQnE,EAAamE,IAEtEC,EAAS7E,EAAMuE,OAAQO,GAC3BV,EAASW,MAAOC,IACd,MAAMC,EAAe1C,EAAWyC,EAAGE,eAC7BC,EAAQ5E,EAAW,IAAI6E,OAAOJ,EAAI,KAAO,KAE/C,OAAOP,EAAaY,KAAMC,IACxB,MAAMC,GAAOT,EAAKQ,IAAU,IAAIE,WAGhC,GAAc,6BAAVF,IAAqB/E,EAAU,CAEjC,MAAMkF,EAAUF,EAAIL,cAAc1B,SAASwB,EAAGE,eAExCQ,EAAUZ,EAAK,+CAAc,GAE7Ba,EADOpD,EAAWmD,EAAQR,eACR1B,SAASyB,GACjC,OAAOQ,GAAWE,EAIpB,GAAc,6BAAVL,GAAoB/E,EAAU,CAChC,MAAMmF,EAAUZ,EAAK,+CAAc,GACnC,OAAOK,EAAMS,KAAKL,IAAQJ,EAAMS,KAAKF,GAIvC,OAAOnF,EACH4E,EAAMS,KAAKL,GACXA,EAAIL,cAAc1B,SAASwB,EAAGE,oBAMlCW,EAAO,IAAIC,IACXC,EAASlB,EAAON,OAAQyB,IACxBH,EAAKI,IAAID,EAAE,+BACfH,EAAKK,IAAIF,EAAE,8BACJ,IAET5F,EAAY2F,IAYNI,EAAqBA,CACzBC,EACAC,EACAC,KAEA,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAQN,EAAIO,aACnBJ,EAAOK,OAASR,EAAIS,cAEpB,MAAMC,EAAMP,EAAOQ,WAAW,MAC9B,IAAKD,EAAK,OAAO,KAGjBA,EAAIE,UAAUZ,EAAK,EAAG,EAAGG,EAAOG,MAAOH,EAAOK,QAG9CE,EAAIG,KAAI,kBACRH,EAAII,UAAY,QAMhB,IAAIC,EAAI,IACJC,EAAI,IACR,IAAK,IAAIC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMC,EAAI,GAAA3D,OAAM2C,EAAQiB,KAAKF,IAC7BP,EAAIU,SAASF,EAAMH,EAAGC,EARL,GAQSC,GAG5BF,EAAI,IACJ,IAAK,IAAIE,EAAI,EAAGA,EAAIf,EAAQiB,KAAK9E,OAAQ4E,IAAK,CAC5C,MAAMC,EAAI,GAAA3D,OAAM2C,EAAQiB,KAAKF,IAC7BP,EAAIU,SAASF,EAAMH,EAAGC,EAdL,IAcUC,EAAI,IAIjC,MAAMI,EAAO,GAAKnB,EAAQoB,GAAGjF,OAC7B,GAAa,IAATgF,EAAW,CAEbN,EAAI,IACJC,EAAI,KACJ,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAI,GAAA3D,OAAM2C,EAAQoB,GAAGL,IAC3BP,EAAIU,SAASF,EAAMH,EAAGC,EAzBP,GAyBWC,GAG5BF,EAAI,IACJ,IAAK,IAAIE,EAAI,GAAIA,EAAI,GAAIA,IAAK,CAC5B,MAAMC,EAAI,GAAA3D,OAAM2C,EAAQoB,GAAGL,IAC3BP,EAAIU,SAASF,EAAMH,EAAGC,EA/BP,IA+BYC,EAAI,UAE5B,CACL,MAAMM,EAAUrB,EAAQsB,IAAIC,OAAO,EAAGJ,GACtCnB,EAAQoB,GAAKpB,EAAQoB,GAAG/D,OAAOgE,GAC/BG,QAAQC,IAAIzB,EAAQoB,GAAGjF,QAEvB0E,EAAI,IACJC,EAAI,KACJ,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAI,GAAA3D,OAAM2C,EAAQoB,GAAGL,IAC3BP,EAAIU,SAASF,EAAMH,EAAGC,EA1CP,GA0CWC,GAG5BF,EAAI,IACJ,IAAK,IAAIE,EAAI,GAAIA,EAAI,GAAIA,IAAK,CAC5B,MAAMC,EAAI,GAAA3D,OAAM2C,EAAQoB,GAAGL,IAC3BP,EAAIU,SAASF,EAAMH,EAAGC,EAhDP,IAgDYC,EAAI,MAMnCF,EAAI,IACJC,EAAI,KACJ,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAI,GAAA3D,OAAM2C,EAAQsB,IAAIP,IAC5BP,EAAIU,SAASF,EAAMH,EAAGC,EA1DL,GA0DSC,GAG5BF,EAAI,IACJ,IAAK,IAAIE,EAAI,GAAIA,EAAI,GAAIA,IAAK,CAC5B,MAAMC,EAAI,GAAA3D,OAAM2C,EAAQsB,IAAIP,IAC5BP,EAAIU,SAASF,EAAMH,EAAGC,EAhEL,IAgEUC,EAAI,KAKjCF,EAAI,IACJC,EAAI,IACJ,MAAMY,EAAWtD,OAAOC,KAAK0B,EAASkB,MACtC,IAAK,IAAIF,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMC,EAAI,GAAA3D,OAAMqE,EAASX,IACzBP,EAAIU,SAASF,EAAMH,EAAGC,EA1EL,GA0ESC,GAG5BF,EAAI,KACJ,IAAK,IAAIE,EAAI,EAAGA,EAAIW,EAASvF,OAAQ4E,IAAK,CACxC,MAAMC,EAAI,GAAA3D,OAAMqE,EAASX,IACzBP,EAAIU,SAASF,EAAMH,EAAGC,EAhFL,IAgFUC,EAAI,IAKjC,IAAIY,EAAiB,GACjBC,EAAkB,GACtB,GAAa,IAATT,EAAW,CACbN,EAAI,IACJC,EAAI,KACJ,MAAMe,EAAS9B,EAASqB,GAAGU,QAAQC,IAAA,IAAEC,EAAMC,GAAKF,EAAA,OAAKG,MAAMD,EAAKE,OAAOC,KAAKJ,KAC5E,IAAK,IAAIjB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAI,GAAA3D,OAAMwE,EAAOd,IACvBP,EAAIU,SAASF,EAAMH,EAAGC,EA7FP,GA6FWC,GAG5BF,EAAI,KACJ,IAAK,IAAIE,EAAI,GAAIA,EAAIc,EAAO1F,OAAQ4E,IAAK,CACvC,MAAMC,EAAI,GAAA3D,OAAMwE,EAAOd,IACvBP,EAAIU,SAASF,EAAMH,EAAGC,EAnGP,IAmGYC,EAAI,UAE5B,CACLF,EAAI,IACJC,EAAI,KACJa,EAAiB5B,EAASqB,GAAGU,QAAQO,IAAA,IAAEL,EAAMM,GAAKD,EAAA,OAChDH,MAAMI,EAAKH,OAAOC,KAAK,CAACJ,EAAMM,MAKhC,MAAMC,GAHNX,EAAkB7B,EAASuB,IAAIQ,QAAQU,IAAA,IAAER,EAAMM,GAAKE,EAAA,OAClDN,MAAMI,EAAKH,OAAOC,KAAK,CAACJ,EAAMM,OAECf,OAAO,EAAEJ,GAC1CQ,EAAec,QAAQF,GACvB,IAAK,IAAIxB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAI,GAAA3D,OAAMsE,EAAeZ,GAAG,IAClCP,EAAIU,SAASF,EAAMH,EAAGC,EAlHP,GAkHWC,GACW,WAAjCY,EAAeZ,GAAG,GAAGxG,4CACvBiG,EAAIU,SAAS,SAAIL,EAAI,GAAGC,EApHX,GAoHeC,GAIhCF,EAAI,KACJ,IAAK,IAAIE,EAAI,GAAIA,EAAIY,EAAexF,OAAQ4E,IAAK,CAC/C,MAAMC,EAAI,GAAA3D,OAAMsE,EAAeZ,GAAG,IAClCP,EAAIU,SAASF,EAAMH,EAAGC,EA3HP,IA2HYC,EAAI,KACM,WAAjCY,EAAeZ,GAAG,GAAGxG,4CACvBiG,EAAIU,SAAS,SAAIL,EAAI,GAAGC,EA7HX,IA6HgBC,EAAI,MAQvC,GAFAF,EAAI,IACJC,EAAI,KACS,IAATK,EAAY,CAEd,MAAMuB,EAAU3C,EAASuB,IAAIQ,QAAQa,IAAA,IAAEX,EAAMC,GAAKU,EAAA,OAAKT,MAAMD,EAAKE,OAAOC,KAAKJ,KAC9E,IAAK,IAAIjB,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAI,GAAA3D,OAAMqF,EAAQ3B,IACxBP,EAAIU,SAASF,EAAMH,EAAGC,EA1IP,GA0IWC,GAG5BF,EAAI,KACJ,IAAK,IAAIE,EAAI,GAAIA,EAAI2B,EAAQvG,OAAQ4E,IAAK,CACxC,MAAMC,EAAI,GAAA3D,OAAMqF,EAAQ3B,IACxBP,EAAIU,SAASF,EAAMH,EAAGC,EAhJP,IAgJYC,EAAI,UAE5B,CACL,IAAK,IAAIA,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMC,EAAI,GAAA3D,OAAMuE,EAAgBb,GAAG,IACnCP,EAAIU,SAASF,EAAMH,EAAGC,EArJP,GAqJWC,GAG5BF,EAAI,KACJ,IAAK,IAAIE,EAAI,GAAIA,EAAIa,EAAgBzF,OAAQ4E,IAAK,CAChD,MAAMC,EAAI,GAAA3D,OAAMuE,EAAgBb,GAAG,IACnCP,EAAIU,SAASF,EAAMH,EAAGC,EA3JP,IA2JYC,EAAI,MAInC,OAAOd,EAAO2C,UAAU,cAyGpBC,EAAmBC,IACvB,IAAKA,GAA6B,YAAfA,EAA0B,OAAO,KAGpD,MAAMC,EAAQD,EAAW9E,MAAM,KAC/B,GAAI+E,EAAM5G,OAAS,EAAG,OAAO,KAC7B,MAAM6G,EAASD,EAAM,GACrB,0EAAA1F,OAA2E2F,EAAM,KAAA3F,OAAIyF,EAAU,SAkQ3FG,EAAaA,CAACC,EAAUC,EAAOlG,EAAMmG,KACzC,MAAMC,EAASrG,EAAWC,GAEpBqG,EAAWD,EAAS,EAAI,GADdA,EAASxI,EAAcF,GAG9B4I,IAAS,IAAAC,EAChB,MAAMC,GAA0B,QAAdD,EAAAD,EAAKL,UAAS,IAAAM,OAAA,EAAdA,EAAgBrB,QAAS,EACrCuB,EAAWC,KAAKC,IAAI,EAAGD,KAAKE,IAAIP,EAAUG,EAAYN,IAC5D,GAAiB,IAAbO,EAAgB,CAClB,MAAMI,EAAIC,cAAA,GAAQR,GAElB,cADOO,EAAKZ,GACLY,EAET,OAAAC,4BAAA,GACKR,GAAI,IACPS,CAACd,GAAW,CAAEf,MAAOuB,EAAUnJ,6CAAS6I,EAAI5I,iCAAOyC,QAKnDgH,EAAcnJ,EAAeJ,EAAWE,EACxCsJ,EAAc9F,OAAO+F,QAAQF,GAC7BG,EAAaF,EAAYG,OAAO,CAACC,EAAGC,KAAA,IAAE,CAAGC,GAAED,EAAA,OAAKD,EAAME,EAAErC,OAAO,GAC/DsC,EAAUP,EAAYG,OAC5B,CAACC,EAAGI,KAAA,IAAE,CAAGF,GAAEE,EAAA,OACRF,EAAEjK,4CAAyB,WAAdiK,EAAEjK,2CAAmB+J,EAAME,EAAErC,MAAQmC,GACrD,GAIA,OACEK,MAAAxE,cAAA,OAAKyE,UAAU,MAAMC,MAAO,CAAEC,gBAAe,OAAAzH,OAASC,qBAAsB,qBAC1EqH,MAAAxE,cAAA,OAAKyE,UAAU,aACfD,MAAAxE,cAAA,OAAKyE,UAAU,gBACbD,MAAAxE,cAAA,UAAIwE,MAAAxE,cAAA,OAAK4E,IAAG,GAAA1H,OAAKC,qBAAsB,oBAAoB0H,IAAI,wCAAeJ,UAAU,UACxFD,MAAAxE,cAAA,OAAKyE,UAAU,cACbD,MAAAxE,cAAA,SACElD,KAAK,OACLgI,YAAY,kBACZC,MAAOnL,EACPoL,SAAWC,GAAMpL,EAASoL,EAAEC,OAAOH,OACnCI,UArlBaF,IACP,UAAVA,EAAE9G,KAAiBT,KAqlBf+G,UAAU,mBAEZD,MAAAxE,cAAA,UAAQoF,QAAS1H,EAAc+G,UAAU,iBAAgBD,MAAAxE,cAACqF,MAAQ,QAEpEb,MAAAxE,cAAA,WACAwE,MAAAxE,cAAA,SAAOyE,UAAU,gBACfD,MAAAxE,cAAA,SACElD,KAAK,WACLwI,QAASxL,EACTkL,SAAUA,IAAMjL,GAAaD,KAC7B,gDAIJ0K,MAAAxE,cAAA,OAAKyE,UAAU,oCACZxG,OAAOC,KAAKlE,GAAcuL,IAAK1G,GAC9B2F,MAAAxE,cAAAwE,MAAAgB,SAAA,KACAhB,MAAAxE,cAAA,SACIyF,GAAI5G,EACJ/B,KAAK,WACLwI,QAAStL,EAAa6E,GACtBmG,SAAUA,IAvmBHnG,KACnB5E,EAAiBmJ,GAAIQ,4BAAA,GAAWR,GAAI,IAAES,CAAChF,IAASuE,EAAKvE,OAsmBzB6G,CAAY7G,KAEhC2F,MAAAxE,cAAA,SAAO7B,IAAKU,EAAO8G,QAAS9G,EAAM4F,UAAU,wBACzClI,EAAYsC,IAAUA,MAK7B2F,MAAAxE,cAAA,OAAKyE,UAAU,YACrBD,MAAAxE,cAAA,OAAKyE,UAAU,cAAcC,MAAO,CAAEkB,eAAgB/K,EAAY,WAAa,gBAAgBgL,aAAchL,EAAY,EAAI,MACzHA,GACA2J,MAAAxE,cAAA,MAAIyE,UAAU,cAAc9J,EAAe,yDAAc,0DAE3D6J,MAAAxE,cAAA,YACInF,GACA2J,MAAAxE,cAAA,UAAQoF,QAASA,IAAMxK,GAAiBD,GAAe8J,UAAU,kCAC/DD,MAAAxE,cAAC8F,MAAc,OAGnBtB,MAAAxE,cAAA,UAAQoF,QAASA,IAAMtK,GAAcD,GAAY4J,UAAU,eAC5CD,MAAAxE,cAAC+F,MAAW,UAK7BlL,GACA2J,MAAAxE,cAAAwE,MAAAgB,SAAA,KACEhB,MAAAxE,cAAA,KAAG0E,MAAO,CAAEsB,OAAQ,EAAGC,SAAU,QAC9BtL,EAAY,6CAAAuC,OACCe,OAAOiI,OAAOzL,GAAUyJ,OAAO,CAACC,EAAKE,IAAMF,EAAME,EAAErC,MAAO,GAAE,uDAAA9E,OAC5De,OAAOiI,OAAO3L,GAAU2J,OAAO,CAACC,EAAKE,IAAMF,EAAME,EAAErC,MAAO,GAAE,WAE5EwC,MAAAxE,cAAA,KAAG0E,MAAO,CAACsB,OAAQ,IAAI,iBAAK/B,EAAW,IAAEtJ,GAAY,SAAAuC,OAAaoH,IAClEE,MAAAxE,cAAA,MAAI0E,MAAO,CAAEyB,UAAW,OAAQC,YAAa,IAC1CrC,EAAYwB,IAAIc,IAAA,IAAExE,EAAMM,GAAKkE,EAAA,OAC5B7B,MAAAxE,cAAA,MACE7B,IAAK0D,EACL6C,MAAO,CACL4B,QAAS,OACTV,eAAgB,gBAChBW,WAAY,SACZV,aAAc,IAGhBrB,MAAAxE,cAAA,YAAOmC,EAAK/H,4CAA4B,WAAjB+H,EAAK/H,2CAAkB,SAAM,GAAIyH,GACxD2C,MAAAxE,cAAA,QAAM0E,MAAO,CAAE8B,WAAY,QAASF,QAAS,OAAQC,WAAY,WAC/D/B,MAAAxE,cAAA,UACEoF,QAASA,IACPtC,EAAWjB,GAAO,EAAGM,EAAK9H,+BAAO8H,EAAK/H,4CAExCsK,MAAO,CAAE+B,YAAa,EAAEL,YAAa,EAAGM,aAAc,EAAGC,WAAY,EAAGC,cAAe,EAAIX,SAAU,IACrGxB,UAAU,mBACX,UAGDD,MAAAxE,cAAA,YAAM,OAAEmC,EAAKH,QACXnF,EAAWsF,EAAK9H,iCAChBmK,MAAAxE,cAAA,UACEoF,QAASA,IACPtC,EAAWjB,EAAM,EAAGM,EAAK9H,+BAAO8H,EAAK/H,4CAEvCyM,SAAU1E,EAAKH,OAAS,EACxB0C,MAAO,CAAE8B,WAAY,EAAGM,QAAS3E,EAAKH,OAAS,EAAI,GAAM,EAAGoE,YAAa,EAAGM,aAAc,EAAGC,WAAY,EAAGC,cAAe,EAAGX,SAAU,IACxIxB,UAAU,mBACX,eAQXD,MAAAxE,cAAA,OAAKyE,UAAU,oBACbD,MAAAxE,cAAA,UAAQoF,QA7aQ2B,KACpB,MAAM1I,EAAO9E,EAAMyN,KAAMzH,GAAqB,iBAAfA,EAAE,mCAC5BlB,EAKL7D,EAAa4I,GAAIQ,4BAAA,GACZR,GAAI,IACPS,CAACxF,EAAK,6BAAU,CACd2D,MAAO,EACP5H,6CAASiE,EAAK,8CACdhE,iCAAOgE,EAAK,sCATd4I,MAAM,6GA0a4BxC,UAAU,mBAAkB,4BAG5DD,MAAAxE,cAAA,WACEwE,MAAAxE,cAAA,UAAQoF,QAASA,IAAM9J,GAAkB,GAAMmJ,UAAU,mBAAkB,gBAG3ED,MAAAxE,cAAA,UAAQ0E,MAAO,CAAE8B,WAAY,OAASpB,QA7fpB8B,KACxB,MAAMC,EAAkBC,GACvBnJ,OAAO+F,QAAQoD,GAAMzF,QAAQ0F,IAAA,IAAAC,EAAA,IAAEzF,EAAMM,GAAKkF,EAAA,OACvCtF,MAAMI,EAAKH,OAAOC,MACoB,QAArCqF,EAAA/N,EAAMyN,KAAMzH,GAAMA,EAAE,8BAAYsC,UAAK,IAAAyF,OAAA,EAArCA,EAAwC,oCAAY,aAKnDC,EAAWJ,EAAe1M,GAE1B+M,EAAWvJ,OAAO+F,QAAQzJ,GAC1BkN,EAAUD,EAAS1J,OAAO4J,IAAA,IAAC,CAAGvF,GAAKuF,EAAA,OAAKvF,EAAK/H,4CAA4B,WAAjB+H,EAAK/H,6CAC7DuN,EAAaH,EAAS1J,OAAO8J,IAAA,IAAC,CAAGzF,GAAKyF,EAAA,OAAMzF,EAAK/H,4CAA4B,WAAjB+H,EAAK/H,6CAOjEyN,EAAM,IAAIN,KAJDJ,EAAelJ,OAAO6J,YAAYL,OAE/BN,EAAelJ,OAAO6J,YAAYH,KAIpDzM,EAAc2M,EAAIE,KAAK,OACvB/M,GAAa,IAse2DyJ,UAAU,mBAAkB,gBAG9FD,MAAAxE,cAAA,UAAQ0E,MAAO,CAAE8B,WAAY,OAASpB,QAASA,IAAMhK,GAAmB,GAAOqJ,UAAU,mBAAkB,uCAU/GD,MAAAxE,cAAA,OAAKyE,UAAU,iCACR/K,EAAS6L,IAAI,CAAClH,EAAMuC,IACnB4D,MAAAxE,cAAA,OAAK7B,IAAKyC,EAAG6D,UAAU,aACnBD,MAAAxE,cAAA,KACEgI,KAAI,qFAAA9K,OAAuFmB,EAAK,mCAChG6G,OAAO,SACP+C,IAAI,sBACJ7C,QAAUH,GAAMA,EAAEiD,kBAClBzD,UAAU,YAETpG,EAAK,4BAAQmG,MAAAxE,cAACmI,MAAc,CAACzD,MAAO,CAAC0D,cAAe,WAAWnC,SAAU,GAAIO,WAAY,MAE5FhC,MAAAxE,cAAA,QACE0E,MAAO,CAAE8B,WAAY,EAAG4B,cAAc,UACtChD,QAASA,IACPtC,EACEzE,EAAK,4BACL,EACAA,EAAK,kCACLA,EAAK,+CAGToG,UAAU,mBACX,MAGDD,MAAAxE,cAAA,QACE0E,MAAO,CAAE8B,WAAY,EAAE4B,cAAc,UACrChD,QAASA,IACPtC,EACEzE,EAAK,4BACL,EACAA,EAAK,kCACLA,EAAK,+CAGToG,UAAU,mBACX,MAGHD,MAAAxE,cAAA,OAAKyE,UAAU,OAAOC,MAAO,CAAE2D,UAAW,UACpD7D,MAAAxE,cAAA,OAAKyE,UAAU,OACbD,MAAAxE,cAAA,OAAKyE,UAAU,QAAOD,MAAAxE,cAAA,cAAQ,iBAAY,IAAE3B,EAAK,mCACjDmG,MAAAxE,cAAA,OAAKyE,UAAU,SAAQD,MAAAxE,cAAA,cAAQ,WAAW,IAAE3B,EAAK,WACjDmG,MAAAxE,cAAA,WAAKwE,MAAAxE,cAAA,cAAQ,uBAAa,IAAE3B,EAAK,uBACjCmG,MAAAxE,cAAA,WAAKwE,MAAAxE,cAAA,cAAQ,uBAAawE,MAAAxE,cAAA,QAAMsI,wBAAyB,CACrDC,QAASlK,EAAK,uBAAU,IAAInC,QAAQ,QAAS,SAEjDsI,MAAAxE,cAAA,WAAKwE,MAAAxE,cAAA,cAAQ,uBAAa,IAAE3B,EAAK,uBACjCmG,MAAAxE,cAAA,WAAKwE,MAAAxE,cAAA,cAAQ,uBAAawE,MAAAxE,cAAA,QAAMsI,wBAAyB,CACrDC,QAASlK,EAAK,yCAAa,IAAInC,QAAQ,QAAS,SAGpDsI,MAAAxE,cAAA,WAAKwE,MAAAxE,cAAA,cAAQ,mCAAewE,MAAAxE,cAAA,QAAMsI,wBAAyB,CACvDC,QAASlK,EAAK,+CAAc,IAAInC,QAAQ,QAAS,UAGvDsI,MAAAxE,cAAA,OAAKyE,UAAU,MACbD,MAAAxE,cAAA,WAAKwE,MAAAxE,cAAA,cAAQ,OAAY,IAAE3B,EAAK,gDAElCmG,MAAAxE,cAAA,OAAKyE,UAAU,QACbD,MAAAxE,cAAA,QACEsI,wBAAyB,CACvBC,QAASlK,EAAK,yCAAa,IAAInC,QAAQ,MAAO,gBAUzDnB,GACCyJ,MAAAxE,cAAA,OAAK0E,MAAO,CACV8D,SAAU,QACVC,IAAK,EAAGC,KAAM,EAAGC,MAAO,EAAGC,OAAQ,EACnCC,gBAAiB,kBACjBvC,QAAS,OACTV,eAAgB,SAChBW,WAAY,SACZuC,OAAQ,MAERtE,MAAAxE,cAAA,OAAK0E,MAAO,CACVmE,gBAAiB,QACjBE,QAAS,OACTC,aAAc,MACd/I,MAAO,MACPgJ,SAAU,QACVT,SAAU,aAEVhE,MAAAxE,cAAA,UAAQoF,QAASA,IAAMpK,GAAa,GAAQ0J,MAAO,CACjD8D,SAAU,WACVC,IAAK,OACLE,MAAO,OACPO,WAAY,OACZC,OAAQ,OACRlD,SAAU,QACVmD,OAAQ,YACP,QACH5E,MAAAxE,cAAA,UAAI,kCACJwE,MAAAxE,cAAA,YACE+E,MAAO9J,EACPoO,UAAQ,EACR3E,MAAO,CAAEzE,MAAO,OAAQE,OAAQ,QAASmJ,WAAY,MAAOC,WAAY,eAE1E/E,MAAAxE,cAAA,OAAK0E,MAAO,CAAE2D,UAAW,OAAQ/B,QAAS,OAAQkD,IAAK,QACrDhF,MAAAxE,cAAA,UACEoF,QA5hBWqE,KACjBC,UAAUC,UAAUC,UAAU3O,GAC7BqC,KAAK,KACJ2J,MAAM,sDAEP4C,MAAM,KACL5C,MAAM,yEAuhBFvC,MAAO,CACLqE,QAAS,WACT9C,SAAU,MACVmD,OAAQ,YAEX,sBAGD5E,MAAAxE,cAAA,UACEoF,QAhhBgB0E,UACtB,IAIE,GAAmB,IAFA7L,OAAOiI,OAAO3L,GAAU2J,OAAO,CAACC,EAAKE,IAAMF,EAAME,EAAErC,MAAO,GAC3D/D,OAAOiI,OAAOzL,GAAUyJ,OAAO,CAACC,EAAKE,IAAMF,EAAME,EAAErC,MAAO,GAG1E,YADAiF,MAAM,oDAKR,MAAM8C,EAAehH,GACZxJ,EAAMyN,KAAMzH,GAAMA,EAAE,8BAAYwD,GAInCiH,EAAc/L,OAAO+F,QAAQvJ,GAAU8K,IAAI0E,IAAkB,IAAhBpI,EAAMM,GAAK8H,EAC5D,MAAM5L,EAAO0L,EAAYlI,GACzB,MAAO,CACLA,OACAG,MAAOG,EAAKH,MACZW,YAAgB,OAAJtE,QAAI,IAAJA,OAAI,EAAJA,EAAO,oCAAY,KAC/BA,UAKE6L,EAAcjM,OAAO+F,QAAQzJ,GAAUgL,IAAI4E,IAAkB,IAAhBtI,EAAMM,GAAKgI,EAC5D,MAAM9L,EAAO0L,EAAYlI,GACzB,MAAO,CACLA,OACAG,MAAOG,EAAKH,MACZW,YAAgB,OAAJtE,QAAI,IAAJA,OAAI,EAAJA,EAAO,oCAAY,KAC/BA,OACA+L,SAAUjI,EAAK9H,+BACfgQ,OAAW,OAAJhM,QAAI,IAAJA,OAAI,EAAJA,EAAO,wBAAU,OAKtBiM,EAAe,GACfC,EAAS,GAEfL,EAAYM,QAASC,IACnB,GAAuB,uBAAnBA,EAAML,SAAoB,CAC5B,MAAMC,EAAQI,EAAMJ,OAAS,IACxBC,EAAaD,KAChBC,EAAaD,GAAS,IAExBC,EAAaD,GAAO/H,KAAKmI,OACG,uBAAnBA,EAAML,UACfG,EAAOjI,KAAKmI,KAKhB,MAAMC,EAAezM,OAAOC,KAAKoM,GAAcK,KAAK,CAACC,EAAGC,KACzCC,SAASF,IAAM,IACfE,SAASD,IAAM,IAKxBE,EAA0BhI,IAC9B,MAAMjD,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAQ,IACfH,EAAOK,OAAS,IAChB,MAAME,EAAMP,EAAOQ,WAAW,MAG9BD,EAAII,UAAY,OAChBJ,EAAI2K,SAAS,EAAG,EAAG,IAAK,KAGxB3K,EAAII,UAAY,OAChBJ,EAAIG,KAAO,kBACXH,EAAI4K,UAAY,SAChB5K,EAAI6K,aAAe,SAGnB,MAEMC,EAAQpI,EAASlF,MAAM,IACvBuN,EAAQ,GACd,IAAIC,EAAc,GAElB,IAAK,IAAIzK,EAAI,EAAGA,EAAIuK,EAAMnP,OAAQ4E,IAAK,CACrC,MAAM0K,EAAWD,EAAcF,EAAMvK,GACrBP,EAAIkL,YAAYD,GACpBrL,MATG,KASiBoL,EAAYrP,OAAS,GACnDoP,EAAM9I,KAAK+I,GACXA,EAAcF,EAAMvK,IAEpByK,EAAcC,EAGdD,EAAYrP,OAAS,GACvBoP,EAAM9I,KAAK+I,GAIb,MAAMG,EAAS,IApBI,IAoBIJ,EAAMpP,OAAS,GAAmB,EAUzD,OATAoP,EAAMZ,QAAQ,CAACiB,EAAMC,KACnBrL,EAAIU,SAAS0K,EAAM,IAAKD,EAtBP,GAsBgBE,KAInCrL,EAAIsL,YAAc,OAClBtL,EAAIuL,UAAY,EAChBvL,EAAIwL,WAAW,EAAG,EAAG,IAAK,KAEnB/L,EAAO2C,UAAU,cAIpBqJ,EAAiBA,CAACrB,EAAOsB,KAC7B,MAAMhJ,EAAW0H,EAAM5I,MAAQ,uCACzBmK,EAAYvB,EAAMzI,MAAQ,EAAC,+BAAA9E,OAA+BuN,EAAMzI,MAAK,UAAW,GAEtF,GAAI+J,EAAK,CAEP,MAAME,EAAqBlB,EAAuBhI,GAClD,6CAAA7F,OAA8C6O,EAAG,6CAAA7O,OAA2C+O,EAAkB,WAAA/O,OAAS8O,EAAS,UAC3H,CAEL,MAAMC,EAAqBlB,EAAuBhI,GAClD,6CAAA7F,OAA8C+O,EAAkB,QAAA/O,OAAO8O,EAAS,YAKpF,IAAIE,EAAW,k/CAuEf,GAAIlC,EAAYhO,OAAS,EAAG,CAC1BkQ,GAAe,wBACfA,GAAe,wEACfA,GAAe,gCACf,IAAK,MAAMzB,KAAST,EAElBkC,GAAeJ,EAAerB,EADlBA,EAAM9H,WAAaD,EAAgB+H,EAAM9H,YAAc,MAGrEuJ,GAAe,eAKjB,GADwBjO,OAAOiI,OAAOoE,GAAcpG,OAAO,CAACC,EAAKgI,IAAQhI,EAAMgI,EAAInQ,OAAQ,GACrE,GAAKuO,EAAOvO,OAAS,EAAG,CAC5CkQ,GAAe,wBACfA,GAAe,wEACfA,GAAe,gCAGf,IAAK,MAAM7B,KAASK,EAClB,IAAK,MAAMD,KAASH,EAAaD,GAE/B6B,GAAeJ,EAAerB,EADlBA,EAAM9H,WAAaD,EAAgB+H,EAAM9H,YAAc,MAMvE,IAAK,MAAM8H,KAASF,EAElB2B,GAAeJ,EAAerB,EADlBA,EAAM9H,WAAaD,EAAgB+H,EAAM9H,YAAc,MAIrEuJ,GAAe,eAGjBA,GAAe,iBAGf,MAAME,EAASC,OAAOC,OAClBF,GACFA,EAAOrM,SAASuM,OAChBF,EAAOrM,SAASwM,MAAML,GACtBE,EAAOrM,SAASyM,SAEhBvF,MAAM,kIAER,MAAOwF,GACPpL,QAAQoL,MAAM,8CAAYA,GAC1BxF,MAAM,oFAuRFvC,MAAO,CACLqE,QAAS,WACT9C,SAAU,MACVmD,OAAQ,WAEV3E,UAAU,mBACX,+BAQRpJ,GACCmJ,MAAAxE,cAAA,OAAK0E,MAAO,CACV8D,SAAU,QACVC,IAAK,EAAGC,KAAM,EAAGC,MAAO,EAAGC,OAAQ,EACnCC,gBAAiB,kBACjBvC,QAAS,OACTV,eAAgB,SAChBW,WAAY,SACZuC,OAAQ,MAERtE,MAAAxE,cAAA,OAAK0E,MAAO,CACVmE,gBAAiB,QACjBE,QAAS,OACTC,aAAc,MACd/I,MAAO,MACPgJ,SAAU,QACVT,SAAU,aAEVhE,MAAAxE,cAAA,UAAQoF,QAASA,IAAM9J,GAAkB,GAAQoJ,MAAO,CACtD8D,SAAU,WACVC,IAAK,OACLE,MAAO,OACPO,WAAY,OACZC,OAAQ,OACRlD,SAAU,QACVmD,OAAQ,YACP,QACH5E,MAAAxE,cAAA,UAAI,wCACH/B,OAAO+F,QAAQrI,GAAW4J,IAAImH,IAAA,IAAEvO,EAAKwO,GAAKD,EAAA,OACzClI,MAAAxE,cAAA,SAAO7B,IAAKA,EAAKuG,MAAO,CAAE4B,QAAS,QAAST,aAAc,QACxDrB,MAAAxE,cAAA,SACElD,KAAK,QACL+E,KAAK,WACLkD,MAAO5G,EACPmH,QAAS7J,IAAgB0C,EACzB6G,SAAWC,GAAMvJ,EAAeuJ,EAAEC,OAAOH,SAElC,YAAR5G,EAAoB,qEAAa,wCAAAjB,OAAaiB,EAAIyO,kBAGvDpI,MAAAxE,cAAA,UACJoF,QA9pByByH,KACvB,MAAM1F,EAAkBC,GACvBnJ,OAAO+F,QAAQoD,GAAMzF,QAAQmL,IAAA,IAAAC,EAAA,IAAElL,EAAMM,GAAK2K,EAAA,OACvC/K,MAAMI,EAAKH,OAAOC,MACoB,QAArC8K,EAAAxT,EAAMyN,KAAMzH,GAAMA,EAAE,8BAAYsC,UAAK,IAAAkL,OAAA,EAArCA,EAAwC,oCAAY,aAKnDxF,EAAWJ,EAAe1M,GAE1B+M,EAAWvJ,OAAO+F,QAAQzJ,GAC1BkN,EAAUD,EAAS1J,OAAOkP,IAAA,IAAC,CAAG7K,GAAK6K,EAAA,OAAK7K,EAAK/H,4CAA4B,WAAjB+H,EAAK/H,6CAC7DuN,EAAaH,EAAS1J,OAAOmP,IAAA,IAAC,CAAG9K,GAAK8K,EAAA,OAAM9K,EAAK/H,4CAA4B,WAAjB+H,EAAK/H,6CAGjEsH,EAASyF,EAAelJ,OAAO6J,YAAYL,IAE3CyF,EAAY/F,EAAelJ,OAAO6J,YAAYH,IAE9C/H,EAAW,CAACkB,KAAKrG,EAAUwG,GAAGwG,EAAStG,IAAIwG,GAC3C9H,EAAU,CAACiB,KAAKyG,EAAUtG,GAAGS,EAAQP,IAAI+L,GAEzCC,EAAqBC,IACzB,IAAKA,EAAU,OACf,MAAMhB,EAASC,OAAOC,OAClBF,EACFA,EAAOrM,SAASsN,KAAKC,UAAS,aAAApQ,OAAgBkQ,EAAQ,6BAEtDnG,MAAM,mIAGJtH,EAAM,IAAI4N,MAEhB,GADA5N,EAAIiF,IAAG,GAAA1H,OAAMC,sBAAsBD,OAAGvB,EAAUF,IAC3CkE,EAEL,GAAKA,EAAI6N,SAKF,CACL,MAAMJ,EAAW1N,EAAmBC,EAAKC,EAAUC,GACnDsN,EAAkBC,QANlBzN,EAAI8N,OAAS,MACb,MAAML,EAAW1N,EAAmBC,EAAKC,EAAUC,GACnDsN,EAAkBC,MAwnBtB1I,MAAO,CACL2D,UAAW,OACXU,QAAS,WACT9C,SAAU,MACVmD,OAAQ,YAEX,kBAOAjO,GACCqJ,MAAAxE,cAAA,OAAK0E,MAAO,CACV8D,SAAU,QACVC,IAAK,EAAGC,KAAM,EAAGC,MAAO,EAAGC,OAAQ,EACnCC,gBAAiB,kBACjBvC,QAAS,OACTV,eAAgB,SAChBW,WAAY,SACZuC,OAAQ,MAERtE,MAAAxE,cAAA,OAAK0E,MAAO,CACVmE,gBAAiB,QACjBE,QAAS,OACTC,aAAc,MACd/I,MAAO,MACPgJ,SAAU,QACVT,SAAU,aAEVhE,MAAAxE,cAAA,UAAQoF,QAASA,IAAMhK,GAAmB,GAAQsJ,MAAO,CACvD8D,SAAU,WACVC,IAAK,OACLE,MAAO,OACPO,WAAY,OACZC,OAAQ,OACRlD,SAAU,QACVmD,OAAQ,YACP,QACH5E,MAAAxE,cAAA,UAAI,oDACJwE,MAAAxE,cAAA,YACE+E,MAAOxJ,EACPyJ,SAAWC,GAAMzJ,EAAcyJ,EAAEC,OAAOH,OACxCD,YAAY,gHACZJ,MAAO,CAAEzE,MAAO,OAAQE,OAAQ,QAASmJ,WAAY,MAAOC,WAAY,eAE1E/E,MAAAxE,cAAA,OAAK0E,MAAO,CAACuG,UAAU,WACvBzG,MAAAxE,cAAA,UACEoF,QAASA,KACP,MAAMgG,EAAQ7P,EACXsC,MAAM,SACN0H,IAAKkG,GAASA,EAAK7N,QACnBE,OAAOC,SAEJ2P,EAAU,GACVC,EAAU,GAEhB,IAAK,MAAMhL,KAAcyI,EAAO,KAAAwC,EAC9B,MAAMvP,EAAO9E,EAAMyN,KAAMzH,GAAMA,EAAE,oCAAaoD,GAC9C,IAAKtE,EAAM,SAEX,MAAMwD,EAAOxD,EAAK,4BACZ6E,EAASrG,EAAWwB,EAAK,mCAEzB6G,EAAShC,EAASyK,EAAUD,EAC5BjK,EAAMP,EAAS,EAAI,EACnBI,GAAwB,QAAZsK,EAAA1I,EAAOrD,UAAK,IAAA+L,OAAA,EAAZA,EAAc5L,QAAS,EACrCsB,EAAYG,IACdyB,EAAOrD,GAAQ,CACbG,MAAOsB,EAAY,EACnBlJ,6CAASiE,EAAK,8CACdhE,iCAAOgE,EAAK,oCAKlB7D,EAAYkT,GACZhT,EAAYiT,GACZvS,GAAmB,IAErBsJ,MAAO,CAAE2D,UAAW,OAAQU,QAAS,WAAY9C,SAAU,MAAOmD,OAAQ,WAC1E3E,UAAU,mBACX,kCC5iCQoJ,MAZSC,IAClBA,GAAeA,aAAuBC,UACxCC,EAAA/I,EAAA,GAAA3H,KAAA0Q,EAAAC,KAAA,UAAqB3Q,KAAKsE,IAAiD,IAAhDsM,OAAEA,EAAMC,OAAEA,EAAMC,OAAEA,EAAMC,OAAEA,EAAMC,QAAEA,GAAS1M,EACpEsM,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAOP,GACPQ,EAAQR,MCDDS,IAASC,WAAWzO,SAAS0O,eAAe,SACpDC,OACHlK,IAAAxE,cAACwE,IAAMmK,WAAU,KACfnK,IAAAxE,cAAC1G,EAAG,QAORuU","file":"static/js/main.14a45c16.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { MdChangeCircle } from \"react-icons/md\";\nimport { LuMinimize2 } from \"react-icons/lu\";\nimport { LuMaximize2 } from \"react-icons/lu\";\nimport { FiExternalLink } from \"react-icons/fi\";\nimport \"./App.css\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [useRegex, setUseRegex] = useState(false);\n  const [searchFields, setSearchFields] = useState({\n    カード名: true,\n    効果テキスト: true,\n    ライフバースト: false,\n    カード種類: false,\n    カードタイプ: false,\n  });\n  const [deckMain, setDeckMain] = useState({});\n  const [deckLrig, setDeckLrig] = useState({});\n  const [showMainDeck, setShowMainDeck] = useState(true);\n  const [minimized, setMinimized] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [outputText, setOutputText] = useState(\"\");\n  const [showImportModal, setShowImportModal] = useState(false);\n  const [showPrintModal, setShowPrintModal] = useState(false);\n  const [importText, setImportText] = useState(\"\");\n  const [templateKey, setTemplateKey] = useState(\"Ceremony\");\n  const templates = {\n  Ceremony: \"/images/template.png\",\n  WC2025: \"/images/template_wc2025.png\",\n};\n\nconst toHiragana = (str = \"\") =>\n  str.replace(/[\\u30a1-\\u30f6]/g, ch =>\n    String.fromCharCode(ch.charCodeAt(0) - 0x60)\n  );\n\n  const fieldLabels = {\n    カード名: \"カード名\",\n    効果テキスト: \"効果テキスト\",\n    ライフバースト: \"LB\",\n    カード種類: \"種類\",\n    カードタイプ: \"タイプ\",\n    色: \"色\",\n    レベル: \"Lv\",\n    コスト: \"コスト\",\n    パワー: \"パワー\",\n    使用タイミング: \"タイミング\",\n  };\n\n  const isLrigCard = (type) =>\n    [\"ルリグ\", \"アシストルリグ\", \"ピース\", \"アーツ\"].includes(type);\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/cards.json?t=${Date.now()}`)\n      .then((res) => res.json())\n      .then((data) => setCards(data));\n  }, []);\n\nconst handleSearch = () => {\n  const keywords = query.trim().split(/\\s+/).filter(Boolean);\n  const activeFields = Object.keys(searchFields).filter((key) => searchFields[key]);\n\n  const result = cards.filter((card) =>\n    keywords.every((kw) => {\n      const normalizedKw = toHiragana(kw.toLowerCase());\n      const regex = useRegex ? new RegExp(kw, \"i\") : null;\n\n      return activeFields.some((field) => {\n        const raw = (card[field] || \"\").toString();\n\n        // 「カード名」フィールドのときだけ、カード名＋読み方を両方チェック\n        if (field === \"カード名\" && !useRegex) {\n          // ① 元のカード名（部分一致、大文字小文字無視）\n          const hitName = raw.toLowerCase().includes(kw.toLowerCase());\n          // ② カードの読み方（カタカナ→ひらがな化して、ひらがな検索を可能に）\n          const reading = card[\"カードの読み方\"] || \"\";\n          const hira = toHiragana(reading.toLowerCase());\n          const hitReading = hira.includes(normalizedKw);\n          return hitName || hitReading;\n        }\n\n        // 正規表現モードなら、カード名／読み方いずれも regex.test でチェック\n        if (field === \"カード名\" && useRegex) {\n          const reading = card[\"カードの読み方\"] || \"\";\n          return regex.test(raw) || regex.test(reading);\n        }\n\n        // その他フィールドは従来通り\n        return useRegex\n          ? regex.test(raw)\n          : raw.toLowerCase().includes(kw.toLowerCase());\n      });\n    })\n  );\n\n  // 重複カード名を除いてセット\n  const seen = new Set();\n  const unique = result.filter((c) => {\n    if (seen.has(c[\"カード名\"])) return false;\n    seen.add(c[\"カード名\"]);\n    return true;\n  });\n  setFiltered(unique);\n};\n\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") handleSearch();\n  };\n\n  const toggleField = (field) => {\n    setSearchFields((prev) => ({ ...prev, [field]: !prev[field] }));\n  };\n\n  const drawDeckOnTemplate = (\n    img,\n    cardList,\n    numList\n  ) => {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = img.naturalWidth;\n    canvas.height = img.naturalHeight;\n\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return null;\n\n    // 背景画像描画\n    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n    \n    // テキスト設定\n    ctx.font = `16px sans-serif`;\n    ctx.fillStyle = \"black\";\n\n    const lineHeight = 46;\n\n    // ルリグデッキのカードナンバー描画\n    // 最初の6枚\n    let x = 200;\n    let y = 619;\n    for (let i = 0; i < 6; i++) {\n      const text = `${numList.Lrig[i]}`;\n      ctx.fillText(text, x, y + i * lineHeight);\n    }\n    // 次の6枚\n    x = 875;\n    for (let i = 6; i < numList.Lrig.length; i++) {\n      const text = `${numList.Lrig[i]}`;\n      ctx.fillText(text, x, y + (i - 6) * lineHeight);\n    }\n\n    // LBのカードナンバー描画\n    const diff = 20 - numList.LB.length;\n    if (diff === 0){\n      // 最初の10枚\n      x = 200;\n      y = 1040;\n      for (let i = 0; i < 10; i++) {\n        const text = `${numList.LB[i]}`;\n        ctx.fillText(text, x, y + i * lineHeight);\n      }\n      // 次の10枚\n      x = 875;\n      for (let i = 10; i < 20; i++) {\n        const text = `${numList.LB[i]}`;\n        ctx.fillText(text, x, y + (i - 10) * lineHeight);\n      }\n    } else {\n      const fromNLB = numList.nLB.splice(0, diff);\n      numList.LB = numList.LB.concat(fromNLB);\n      console.log(numList.LB.length);\n      // 最初の10枚\n      x = 200;\n      y = 1040;\n      for (let i = 0; i < 10; i++) {\n        const text = `${numList.LB[i]}`;\n        ctx.fillText(text, x, y + i * lineHeight);\n      }\n      // 次の10枚\n      x = 875;\n      for (let i = 10; i < 20; i++) {\n        const text = `${numList.LB[i]}`;\n        ctx.fillText(text, x, y + (i - 10) * lineHeight);\n      }\n    }\n\n    // nLBのカードナンバー描画\n    // 最初の10枚\n    x = 200;\n    y = 1647;\n    for (let i = 0; i < 10; i++) {\n      const text = `${numList.nLB[i]}`;\n      ctx.fillText(text, x, y + i * lineHeight);\n    }\n    // 次の10枚\n    x = 875;\n    for (let i = 10; i < 20; i++) {\n      const text = `${numList.nLB[i]}`;\n      ctx.fillText(text, x, y + (i - 10) * lineHeight);\n    }\n\n    // ルリグデッキのカード名描画\n    // 最初の6枚\n    x = 352;\n    y = 619;\n    const lrigKeys = Object.keys(cardList.Lrig);\n    for (let i = 0; i < 6; i++) {\n      const text = `${lrigKeys[i]}`;\n      ctx.fillText(text, x, y + i * lineHeight);\n    }\n    // 次の6枚\n    x = 1026;\n    for (let i = 6; i < lrigKeys.length; i++) {\n      const text = `${lrigKeys[i]}`;\n      ctx.fillText(text, x, y + (i - 6) * lineHeight);\n    }\n\n    // メインデッキのLBカード名描画\n    // 最初の10枚\n    let expandedLBList = [];\n    let expandedNLBList = [];\n    if (diff === 0){\n      x = 450;\n      y = 1040;\n      const lbList = cardList.LB.flatMap(([name, attr]) => Array(attr.count).fill(name));\n      for (let i = 0; i < 10; i++) {\n        const text = `${lbList[i]}`;\n        ctx.fillText(text, x, y + i * lineHeight);\n      }\n      // 次の10枚\n      x = 1124;\n      for (let i = 10; i < lbList.length; i++) {\n        const text = `${lbList[i]}`;\n        ctx.fillText(text, x, y + (i - 10) * lineHeight);\n      }\n    } else {\n      x = 450;\n      y = 1040;\n      expandedLBList = cardList.LB.flatMap(([name, info]) =>\n        Array(info.count).fill([name, info])\n      );\n      expandedNLBList = cardList.nLB.flatMap(([name, info]) =>\n        Array(info.count).fill([name, info])\n      );\n      const moveNLBs = expandedNLBList.splice(0,diff);\n      expandedLBList.push(...moveNLBs);\n      for (let i = 0; i < 10; i++) {\n        const text = `${expandedLBList[i][0]}`;\n        ctx.fillText(text, x, y + i * lineHeight);\n        if (expandedLBList[i][1].ライフバースト === \"―\") {\n          ctx.fillText(\"✓\",x - 64,y + i * lineHeight,)\n        }\n      }\n      // 次の10枚\n      x = 1124;\n      for (let i = 10; i < expandedLBList.length; i++) {\n        const text = `${expandedLBList[i][0]}`;\n        ctx.fillText(text, x, y + (i - 10) * lineHeight);\n        if (expandedLBList[i][1].ライフバースト === \"―\") {\n          ctx.fillText(\"✓\",x - 64,y + (i - 10) * lineHeight,)\n        }\n      }\n    }\n\n    // メインデッキのnLBカード名描画\n    x = 352;\n    y = 1647;\n    if (diff === 0) {\n      // 最初の10枚\n      const nlbList = cardList.nLB.flatMap(([name, attr]) => Array(attr.count).fill(name));\n      for (let i = 0; i < 10; i++) {\n        const text = `${nlbList[i]}`;\n        ctx.fillText(text, x, y + i * lineHeight);\n      }\n      // 次の10枚\n      x = 1026;\n      for (let i = 10; i < nlbList.length; i++) {\n        const text = `${nlbList[i]}`;\n        ctx.fillText(text, x, y + (i - 10) * lineHeight);\n      }\n    } else {\n      for (let i = 0; i < 10; i++) {\n        const text = `${expandedNLBList[i][0]}`;\n        ctx.fillText(text, x, y + i * lineHeight);\n      }\n      // 次の10枚\n      x = 1026;\n      for (let i = 10; i < expandedNLBList.length; i++) {\n        const text = `${expandedNLBList[i][0]}`;\n        ctx.fillText(text, x, y + (i - 10) * lineHeight);\n      }\n    }\n\n    return canvas.toDataURL(\"image/png\");\n  };\n\n  // デッキリストからカード名でカード番号を引き当てる関数\n  const handleOutputClick = () => {\n    const getCardNumbers = (deck) =>\n     Object.entries(deck).flatMap(([name, info]) =>\n        Array(info.count).fill(\n         cards.find((c) => c[\"カード名\"] === name)?.[\"カード番号\"] || \"UNKNOWN\"\n       )\n      );\n\n    // ルリグデッキのカード番号リスト取得\n    const lrigList = getCardNumbers(deckLrig);\n\n    const mainList = Object.entries(deckMain);\n    const lbCards = mainList.filter(([, info]) => info.ライフバースト && info.ライフバースト !== \"―\");\n    const nonLbCards = mainList.filter(([, info]) => !info.ライフバースト || info.ライフバースト === \"―\");\n\n    // メインデッキ・LBありのカード番号リスト取得\n    const lbList = getCardNumbers(Object.fromEntries(lbCards));\n    // メインデッキ・LBなしのカード番号リスト取得\n    const nonLbList = getCardNumbers(Object.fromEntries(nonLbCards));\n\n    const all = [...lrigList, ...lbList, ...nonLbList];\n\n    setOutputText(all.join(\"\\n\"));\n    setShowModal(true);\n  };\n\n  const handlePrintClick = () => {\n    const getCardNumbers = (deck) =>\n     Object.entries(deck).flatMap(([name, info]) =>\n        Array(info.count).fill(\n         cards.find((c) => c[\"カード名\"] === name)?.[\"カード番号\"] || \"UNKNOWN\"\n       )\n      );\n\n    // ルリグデッキのカード番号リスト取得\n    const lrigList = getCardNumbers(deckLrig);\n\n    const mainList = Object.entries(deckMain);\n    const lbCards = mainList.filter(([, info]) => info.ライフバースト && info.ライフバースト !== \"―\");\n    const nonLbCards = mainList.filter(([, info]) => !info.ライフバースト || info.ライフバースト === \"―\");\n\n    // メインデッキ・LBありのカード番号リスト取得\n    const lbList = getCardNumbers(Object.fromEntries(lbCards));\n    // メインデッキ・LBなしのカード番号リスト取得\n    const nonLbList = getCardNumbers(Object.fromEntries(nonLbCards));\n\n    const cardList = {Lrig:deckLrig, LB:lbCards, nLB:nonLbCards};\n    const numList = {Lrig:lrigList, LB:lbList, nLB:nonLbList}\n\n    const openImageInNewTab = (imageUrl) => {\n      if (!imageUrl) return;\n      const newTab = window.open();\n      if (newTab) {\n        newTab.document.body.innerHTML = `<img src=\"${imageUrl}\" style=\"max-width:100%\">`;\n      } else {\n        alert(\"ポップアップブロックが有効かもしれません。\");\n      }\n    };\n    const img = new Image();\n    img.src = `${process.env.PUBLIC_URL}${templates[templateKey]}`;\n    if (!img) return;\n\n    if (!img.complete) {\n      img.onload = () => {\n      const imageUrl = drawDeckOnTemplate(img, cardList, numList);\n      openImageInNewTab(imageUrl);\n      };\n    } else {\n      const imageUrl = drawDeckOnTemplate(img, cardList, numList);\n      openImageInNewTab(imageUrl);\n    }\n  };\n\n  const handleAddSaba = () => {\n    const card = cards.find((c) => c[\"カード番号\"] === \"WXDi-D03-020\");\n    if (!card) {\n      alert(\"カード WXDi-D03-020 が見つかりませんでした。\");\n      return;\n    }\n\n    setDeckMain((prev) => ({\n      ...prev,\n      [card[\"カード名\"]]: {\n        count: 4,\n        ライフバースト: card[\"ライフバースト\"],\n        カード種類: card[\"カード種類\"]\n      }\n    }));\n  };\n\n  const handleCopy = () => {\n    navigator.clipboard.writeText(outputText)\n    .then(() => {\n      alert(\"コピーしました！\");\n    })\n    .catch(() => {\n      alert(\"コピーに失敗しました。\");\n    });\n  };\n\n  // カード番号から画像URLを生成\n  const getCardImageUrl = (cardNumber) => {\n    if (!cardNumber || cardNumber === \"UNKNOWN\") return null;\n    // カード番号の形式例: WX25-CP1-046, WXDi-D03-010\n    // URL形式: https://www.takaratomy.co.jp/products/wixoss/library/images/card/WX25/WX25-CP1-046.jpg\n    const parts = cardNumber.split(\"-\");\n    if (parts.length < 2) return null;\n    const prefix = parts[0]; // WX25, WXDi など\n    return `https://www.takaratomy.co.jp/products/wixoss/library/images/card/${prefix}/${cardNumber}.jpg`;\n  };\n\n  // デッキリスト画像を作成\n  const createDeckImage = async () => {\n    try {\n      // デッキが空の場合\n      const totalCards = Object.values(deckMain).reduce((acc, v) => acc + v.count, 0) +\n                        Object.values(deckLrig).reduce((acc, v) => acc + v.count, 0);\n      if (totalCards === 0) {\n        alert(\"デッキが空です。\");\n        return;\n      }\n\n      // カード情報を取得（カード名からカード番号などを取得）\n      const getCardInfo = (cardName) => {\n        return cards.find((c) => c[\"カード名\"] === cardName);\n      };\n\n      // ルリグデッキのカード情報を取得\n      const lrigEntries = Object.entries(deckLrig).map(([name, info]) => {\n        const card = getCardInfo(name);\n        return {\n          name,\n          count: info.count,\n          cardNumber: card?.[\"カード番号\"] || null,\n          card,\n        };\n      });\n\n      // メインデッキのカード情報を取得\n      const mainEntries = Object.entries(deckMain).map(([name, info]) => {\n        const card = getCardInfo(name);\n        return {\n          name,\n          count: info.count,\n          cardNumber: card?.[\"カード番号\"] || null,\n          card,\n          cardType: info.カード種類,\n          level: card?.[\"レベル\"] || \"0\",\n        };\n      });\n\n      // メインデッキをシグニ（レベルごと）とスペルに分類\n      const signiByLevel = {};\n      const spells = [];\n\n      mainEntries.forEach((entry) => {\n        if (entry.cardType === \"シグニ\") {\n          const level = entry.level || \"0\";\n          if (!signiByLevel[level]) {\n            signiByLevel[level] = [];\n          }\n          signiByLevel[level].push(entry);\n        } else if (entry.cardType === \"スペル\") {\n          spells.push(entry);\n        }\n      });\n\n      // レベルでソート（数値として）\n      const sortedLevels = Object.keys(signiByLevel).sort((a, b) => {\n        const numA = parseInt(a) || 0;\n        const numB = parseInt(b) || 0;\n        return numA - numB;\n      });\n\n      // プレースホルダー画像を生成する関数\n      const createPlaceholderImage = (cardName) => {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = 240;\n        canvas.height = 336;\n        const ctx = canvas.getContext(\"2d\");\n        \n        // 背景色\n        ctx.fillStyle = \"#ccc\";\n        ctx.fillRect(0, 0, 240, 336);\n        \n        // カード名を描画\n        ctx.fillStyle = \"#333\";\n        ctx.font = \"14px sans-serif\";\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        \n        // テキストを複数行に分割\n        const maxWidth = 220;\n        const lineHeight = 18;\n        const chars = cardName.split(\"\");\n        const lines = [];\n        let currentLine = \"\";\n        \n        for (let i = 0; i < chars.length; i++) {\n          const testLine = currentLine + chars[i];\n          const metrics = ctx.measureText(testLine);\n          if (metrics.width > maxWidth && currentLine.length > 0) {\n            lines.push(currentLine);\n            currentLine = chars[i];\n          } else {\n            currentLine = testLine;\n          }\n        }\n        if (currentLine.length > 0) {\n          lines.push(currentLine);\n        }\n        \n        // 中央に配置して描画\n        const startY = 168 - ((lines.length - 1) * lineHeight) / 2;\n        lines.forEach((line, index) => {\n          ctx.fillText(line, 120, startY + index * lineHeight);\n        });\n        \n        // 枠線\n        ctx.strokeStyle = \"#ddd\";\n        ctx.lineWidth = 1;\n        ctx.strokeRect(0, 0, 240, 336);\n        \n        return canvas.toDataURL(\"image/png\");\n      };\n\n      // カード情報からHTML要素を生成する関数\n      const createCardHtml = (entry, url) => {\n        const cardName = entry.name || \"カード名不明\";\n        const countHtml = entry.count > 1 ? `<div class=\"card-count\">×${entry.count}</div>` : \"\";\n        \n        if (url) {\n          // 画像URLがある場合\n          const placeholderDataUrl = createPlaceholderImage(cardName);\n          return `<div class=\"card-wrapper\"><img src=\"${url}\" onerror=\"this.onerror=null; this.src='${placeholderDataUrl}';\" />${countHtml}</div>`;\n        } else {\n          // 画像URLがない場合、プレースホルダー画像を使用\n          const placeholderDataUrl = createPlaceholderImage(cardName);\n          return `<div class=\"card-wrapper\"><img src=\"${placeholderDataUrl}\" />${countHtml}</div>`;\n        }\n      };\n\n      // HTMLを構築\n      let htmlContent = `\n<!DOCTYPE html>\n<html lang=\"ja\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>デッキリスト画像</title>\n  <style>\n    body {\n      margin: 20px;\n      background: #f5f5f5;\n      font-family: sans-serif;\n    }\n    .section {\n      margin-bottom: 30px;\n    }\n    .section-title {\n      font-size: 20px;\n      font-weight: bold;\n      margin-bottom: 10px;\n      color: #000;\n    }\n    .cards-container {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 8px;\n    }\n    .card-wrapper {\n      position: relative;\n      display: inline-block;\n    }\n    .card-wrapper img {\n      width: 240px;\n      height: 336px;\n      display: block;\n      border: 1px solid #ddd;\n    }\n    .card-count {\n      position: absolute;\n      bottom: 10px;\n      right: 10px;\n      background: rgba(255, 255, 255, 0.9);\n      padding: 2px 8px;\n      border-radius: 4px;\n      font-weight: bold;\n      font-size: 24px;\n      color: #000;\n    }\n    .card-placeholder {\n      width: 240px;\n      height: 336px;\n      background: #ccc;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #333;\n      border: 1px solid #ddd;\n      padding: 10px;\n      box-sizing: border-box;\n      text-align: center;\n      font-size: 14px;\n      word-break: break-word;\n      line-height: 1.4;\n      position: relative;\n    }\n  </style>\n</head>\n<body>\n`;\n\n      // ルリグデッキ\n      if (lrigEntries.length > 0) {\n        htmlContent += '<div class=\"section\">';\n        htmlContent += '<div class=\"section-title\">ルリグデッキ</div>';\n        htmlContent += '<div class=\"cards-container\">';\n        for (const entry of lrigEntries) {\n          const url = entry.cardNumber ? getCardImageUrl(entry.cardNumber) : null;\n          htmlContent += createCardHtml(entry, url);\n        }\n        htmlContent += '</div></div>';\n      }\n\n      // メインデッキ（シグニとスペルをまとめる）\n      const signiTotalCount = Object.values(signiByLevel).reduce((acc, arr) => acc + arr.length, 0);\n      if (signiTotalCount > 0 || spells.length > 0) {\n        htmlContent += '<div class=\"section\">';\n        htmlContent += '<div class=\"section-title\">メインデッキ</div>';\n        htmlContent += '<div class=\"cards-container\">';\n        \n        // シグニを表示（レベルごと）\n        for (const level of sortedLevels) {\n          for (const entry of signiByLevel[level]) {\n            const url = entry.cardNumber ? getCardImageUrl(entry.cardNumber) : null;\n            htmlContent += createCardHtml(entry, url);\n          }\n        }\n        \n        // スペルを表示\n        for (const entry of spells) {\n          const url = entry.cardNumber ? getCardImageUrl(entry.cardNumber) : null;\n          htmlContent += createCardHtml(entry, url);\n        }\n        \n        htmlContent += '</div></div>';\n      }\n\n      htmlContent += '</body></html>';\n\n      // 新しいタブで開く\n      const newTab = window.open();\n      if (newTab) {\n        newTab.document.open();\n        newTab.document.write(htmlContent);\n        newTab.document.close();\n      } else {\n        alert(\"ポップアップブロックが有効かもしれません。\");\n      }\n    } catch (error) {\n      console.error(\"画像作成エラー:\", error);\n      alert(\"画像の作成に失敗しました。\");\n    }\n  };\n\n  const adjustDeck = (cardName, delta, type, lb) => {\n    const isLrig = isLrigCard(type);\n    const setDeck = isLrig ? setDeckLrig : setDeckMain;\n    const maxCount = isLrig ? 1 : 4;\n\n    setDeck((prev) => {\n      const prevCount = prev[cardName]?.count || 0;\n      const newCount = Math.max(0, Math.min(maxCount, prevCount + delta));\n      if (newCount === 0) {\n        const copy = { ...prev };\n        delete copy[cardName];\n        return copy;\n      }\n      return {\n        ...prev,\n        [cardName]: { count: newCount, ライフバースト: lb, カード種類: type },\n      };\n    });\n  };\n\n  const currentDeck = showMainDeck ? deckMain : deckLrig;\n  const deckEntries = Object.entries(currentDeck);\n  const totalCount = deckEntries.reduce((acc, [, v]) => acc + v.count, 0);\n  const lbCount = deckEntries.reduce(\n  (acc, [, v]) =>\n    (v.ライフバースト && v.ライフバースト !== \"―\") ? acc + v.count : acc,\n  0\n);\n\n\n  return (\n    <div className=\"App\" style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/images/bg.jpg)` }}>\n      <div className=\"container\">\n      <div className=\"header-fixed\">\n        <h1><img src={`${process.env.PUBLIC_URL}/images/logo.png`} alt=\"WIXOSS カード検索\" className=\"logo\" /></h1>\n        <div className=\"search-row\">\n          <input\n            type=\"text\"\n            placeholder=\"検索...\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"search-textbox\"\n          />\n          <button onClick={handleSearch} className=\"search-button\"><FaSearch /></button>\n        </div>\n        <div>\n        <label className=\"toggle-regex\">\n          <input\n            type=\"checkbox\"\n            checked={useRegex}\n            onChange={() => setUseRegex(!useRegex)}\n          /> 正規表現を使う\n        </label>\n        </div>\n\n        <div className=\"field-controls searchfield-check\">\n          {Object.keys(searchFields).map((field) => (\n            <>\n            <input\n                id={field}\n                type=\"checkbox\"\n                checked={searchFields[field]}\n                onChange={() => toggleField(field)}\n              />\n            <label key={field} htmlFor={field}className=\"searchfield-checkbox\">\n              {fieldLabels[field] || field}\n            </label>\n            </>\n          ))}\n        </div>\n        <div className=\"deck-box\">\n  <div className=\"deck-header\" style={{ justifyContent: minimized ? \"flex-end\" : \"space-between\",marginBottom: minimized ? 0 : 20 }}>\n    {!minimized && (\n      <h3 className=\"deck-title\">{showMainDeck ? \"現在のメインデッキ\" : \"現在のルリグデッキ\"}</h3>\n    )}\n    <div>\n      {!minimized && (\n        <button onClick={() => setShowMainDeck(!showMainDeck)} className=\"deck-toggle-button icon-button\">\n          <MdChangeCircle />\n        </button>\n      )}\n      <button onClick={() => setMinimized(!minimized)} className=\"icon-button\">\n        {minimized ? <LuMaximize2 /> : <LuMinimize2 />}\n      </button>\n    </div>\n  </div>\n\n  {!minimized && (\n    <>\n      <p style={{ margin: 0, fontSize: \"1em\" }}>\n        {showMainDeck\n          ? `ルリグデッキ：${Object.values(deckLrig).reduce((acc, v) => acc + v.count, 0)}枚`\n          : `メインデッキ：${Object.values(deckMain).reduce((acc, v) => acc + v.count, 0)}枚`}\n      </p>\n      <p style={{margin: 0}}>枚数: {totalCount} {showMainDeck && `/ LB: ${lbCount}`}</p>\n      <ul style={{ listStyle: \"none\", paddingLeft: 0 }}>\n        {deckEntries.map(([name, info]) => (\n          <li\n            key={name}\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: 4\n            }}\n          >\n            <span>{info.ライフバースト && info.ライフバースト !== \"―\" ? \"★\" : \"\"}{name}</span>\n            <span style={{ marginLeft: \"0.5em\", display: \"flex\", alignItems: \"center\" }}>\n              <button\n                onClick={() =>\n                  adjustDeck(name, -1, info.カード種類, info.ライフバースト)\n                }\n                style={{ marginRight: 4,paddingLeft: 6, paddingRight: 6, paddingTop: 3, paddingBottom: 3 , fontSize: 13}}\n                className=\"button button03\"\n              >\n                －\n              </button>\n              <span>×{info.count}</span>\n              {!isLrigCard(info.カード種類) && (\n                <button\n                  onClick={() =>\n                    adjustDeck(name, 1, info.カード種類, info.ライフバースト)\n                  }\n                  disabled={info.count >= 4}\n                  style={{ marginLeft: 4, opacity: info.count >= 4 ? 0.5 : 1 ,paddingLeft: 6, paddingRight: 6, paddingTop: 3, paddingBottom: 3, fontSize: 13}}\n                  className=\"button button02\"\n                >\n                  ＋\n                </button>\n              )}\n            </span>\n          </li>\n        ))}\n      </ul>\n      <div className=\"button-container\">\n        <button onClick={handleAddSaba} className=\"button button02\">\n          鯖＃追加\n        </button>\n        <div>\n          <button onClick={() => setShowPrintModal(true)}className=\"button button01\">\n            印刷\n          </button>\n          <button style={{ marginLeft: \"8px\" }} onClick={handleOutputClick} className=\"button button01\">\n            出力\n          </button>\n          <button style={{ marginLeft: \"8px\" }} onClick={() => setShowImportModal(true)} className=\"button button01\">\n            インポート\n          </button>\n        </div>\n      </div>\n    </>\n  )}\n</div>\n      </div>\n\n      <div className=\"table-container search-result\">\n            {filtered.map((card, i) => (\n              <div key={i} className=\"card-item\"> \n                  <a\n                    href={`https://www.takaratomy.co.jp/products/wixoss/library/card/card_detail.php?card_no=${card[\"カード番号\"]}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    onClick={(e) => e.stopPropagation()}\n                    className=\"cardname\"\n                  >\n                    {card[\"カード名\"]}<FiExternalLink style={{verticalAlign: \"baseline\",fontSize: 14, marginLeft: 4}}/>\n                  </a>\n                  <span\n                    style={{ marginLeft: 8, verticalAlign:\"middle\" }}\n                    onClick={() =>\n                      adjustDeck(\n                        card[\"カード名\"],\n                        1,\n                        card[\"カード種類\"],\n                        card[\"ライフバースト\"]\n                      )\n                    }\n                    className=\"button button02\"\n                  >\n                    +1\n                  </span>\n                  <span\n                    style={{ marginLeft: 4,verticalAlign:\"middle\" }}\n                    onClick={() =>\n                      adjustDeck(\n                        card[\"カード名\"],\n                        +4,\n                        card[\"カード種類\"],\n                        card[\"ライフバースト\"]\n                      )\n                    }\n                    className=\"button button02\"\n                  >\n                    +4\n                  </span>\n                <div className=\"attr\" style={{ marginTop: \"0.3em\" }}>\n      <div className=\"row\">\n        <div className=\"type\"><strong>種類:</strong> {card[\"カード種類\"]}</div>\n        <div className=\"color\"><strong>色:</strong> {card[\"色\"]}</div>\n        <div><strong>レベル:</strong> {card[\"レベル\"]}</div>\n        <div><strong>コスト:</strong><span dangerouslySetInnerHTML={{\n            __html: (card[\"コスト\"] || \"\").replace(/<br>/g, \" \"),\n          }}></span></div>\n        <div><strong>パワー:</strong> {card[\"パワー\"]}</div>\n        <div><strong>タイプ:</strong><span dangerouslySetInnerHTML={{\n            __html: (card[\"カードタイプ\"] || \"\").replace(/<br>/g, \" \"),\n          }}></span></div>\n\n        <div><strong>タイミング:</strong><span dangerouslySetInnerHTML={{\n            __html: (card[\"使用タイミング\"] || \"\").replace(/<br>/g, \" \"),\n          }}></span></div>\n      </div>\n      <div className=\"LB\">\n        <div><strong>LB:</strong> {card[\"ライフバースト\"]}</div>\n      </div>\n      <div className=\"text\">\n        <span\n          dangerouslySetInnerHTML={{\n            __html: (card[\"効果テキスト\"] || \"\").replace(/\\n/g, \"<br>\"),\n          }}\n        />\n      </div>\n      </div>\n    </div>\n  ))}\n</div>\n\n\n{showModal && (\n  <div style={{\n    position: \"fixed\",\n    top: 0, left: 0, right: 0, bottom: 0,\n    backgroundColor: \"rgba(0,0,0,0.5)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: 1000\n  }}>\n    <div style={{\n      backgroundColor: \"white\",\n      padding: \"20px\",\n      borderRadius: \"8px\",\n      width: \"80%\",\n      maxWidth: \"500px\",\n      position: \"relative\"\n    }}>\n      <button onClick={() => setShowModal(false)} style={{\n        position: \"absolute\",\n        top: \"10px\",\n        right: \"10px\",\n        background: \"none\",\n        border: \"none\",\n        fontSize: \"1.2em\",\n        cursor: \"pointer\"\n      }}>×</button>\n      <h3>デッキ出力</h3>\n      <textarea\n        value={outputText}\n        readOnly\n        style={{ width: \"100%\", height: \"300px\", whiteSpace: \"pre\", fontFamily: \"monospace\" }}\n      />\n      <div style={{ marginTop: \"10px\", display: \"flex\", gap: \"8px\" }}>\n        <button\n          onClick={handleCopy}\n          style={{\n            padding: \"6px 12px\",\n            fontSize: \"1em\",\n            cursor: \"pointer\"\n          }}\n        >\n          コピー\n        </button>\n        <button\n          onClick={createDeckImage}\n          style={{\n            padding: \"6px 12px\",\n            fontSize: \"1em\",\n            cursor: \"pointer\"\n          }}\n          className=\"button button01\"\n        >\n          画像作成\n        </button>\n      </div>\n    </div>\n  </div>\n)}\n\n{showPrintModal && (\n  <div style={{\n    position: \"fixed\",\n    top: 0, left: 0, right: 0, bottom: 0,\n    backgroundColor: \"rgba(0,0,0,0.5)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: 1000\n  }}>\n    <div style={{\n      backgroundColor: \"white\",\n      padding: \"20px\",\n      borderRadius: \"8px\",\n      width: \"80%\",\n      maxWidth: \"500px\",\n      position: \"relative\"\n    }}>\n      <button onClick={() => setShowPrintModal(false)} style={{\n        position: \"absolute\",\n        top: \"10px\",\n        right: \"10px\",\n        background: \"none\",\n        border: \"none\",\n        fontSize: \"1.2em\",\n        cursor: \"pointer\"\n      }}>×</button>\n      <h3>プリント設定</h3>\n      {Object.entries(templates).map(([key, path]) => (\n        <label key={key} style={{ display: \"block\", marginBottom: \"4px\" }}>\n          <input\n            type=\"radio\"\n            name=\"template\"\n            value={key}\n            checked={templateKey === key}\n            onChange={(e) => setTemplateKey(e.target.value)}\n          />\n          {key === \"default\" ? \"デフォルトテンプレート\" : `テンプレート ${key.toUpperCase()}`}\n        </label>\n      ))}\n      <button\n  onClick={handlePrintClick}\n  style={{\n    marginTop: \"10px\",\n    padding: \"6px 12px\",\n    fontSize: \"1em\",\n    cursor: \"pointer\"\n  }}\n>\n  印刷\n</button>\n    </div>\n  </div>\n)}\n\n{showImportModal && (\n  <div style={{\n    position: \"fixed\",\n    top: 0, left: 0, right: 0, bottom: 0,\n    backgroundColor: \"rgba(0,0,0,0.5)\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    zIndex: 1000\n  }}>\n    <div style={{\n      backgroundColor: \"white\",\n      padding: \"20px\",\n      borderRadius: \"8px\",\n      width: \"80%\",\n      maxWidth: \"500px\",\n      position: \"relative\"\n    }}>\n      <button onClick={() => setShowImportModal(false)} style={{\n        position: \"absolute\",\n        top: \"10px\",\n        right: \"10px\",\n        background: \"none\",\n        border: \"none\",\n        fontSize: \"1.2em\",\n        cursor: \"pointer\"\n      }}>×</button>\n      <h3>デッキインポート</h3>\n      <textarea\n        value={importText}\n        onChange={(e) => setImportText(e.target.value)}\n        placeholder=\"カード番号を1行ずつ貼り付けてください\"\n        style={{ width: \"100%\", height: \"300px\", whiteSpace: \"pre\", fontFamily: \"monospace\" }}\n      />\n      <div style={{textAlign:\"center\"}}>\n      <button\n        onClick={() => {\n          const lines = importText\n            .split(/\\r?\\n/)\n            .map((line) => line.trim())\n            .filter(Boolean);\n\n          const newMain = {};\n          const newLrig = {};\n\n          for (const cardNumber of lines) {\n            const card = cards.find((c) => c[\"カード番号\"] === cardNumber);\n            if (!card) continue;\n\n            const name = card[\"カード名\"];\n            const isLrig = isLrigCard(card[\"カード種類\"]);\n\n            const target = isLrig ? newLrig : newMain;\n            const max = isLrig ? 1 : 4;\n            const prevCount = target[name]?.count || 0;\n            if (prevCount < max) {\n              target[name] = {\n                count: prevCount + 1,\n                ライフバースト: card[\"ライフバースト\"],\n                カード種類: card[\"カード種類\"]\n              };\n            }\n          }\n\n          setDeckMain(newMain);\n          setDeckLrig(newLrig);\n          setShowImportModal(false);\n        }}\n        style={{ marginTop: \"10px\", padding: \"6px 12px\", fontSize: \"1em\", cursor: \"pointer\" }}\n        className=\"button button01\"\n      >\n        読み込み\n      </button>\n      </div>\n    </div>\n  </div>\n)}\n\n\n</div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}