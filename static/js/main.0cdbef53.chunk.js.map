{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","cards","setCards","useState","filtered","setFiltered","query","setQuery","useRegex","setUseRegex","searchFields","setSearchFields","カード名","効果テキスト","ライフバースト","カード種類","カードタイプ","displayFields","setDisplayFields","色","レベル","コスト","パワー","使用タイミング","deckMain","setDeckMain","deckLrig","setDeckLrig","showMainDeck","setShowMainDeck","minimized","setMinimized","showModal","setShowModal","outputText","setOutputText","showImportModal","setShowImportModal","importText","setImportText","imageRef","useRef","toHiragana","arguments","length","undefined","replace","ch","String","fromCharCode","charCodeAt","fieldLabels","isLrigCard","type","includes","useEffect","fetch","concat","process","Date","now","then","res","json","data","handleSearch","keywords","trim","split","filter","Boolean","activeFields","Object","keys","key","result","card","every","kw","normalizedKw","toLowerCase","regex","RegExp","some","field","raw","toString","hitName","reading","hitReading","test","seen","Set","unique","c","has","add","drawDeckOnTemplate","img","cardList","numList","canvas","document","createElement","width","naturalWidth","height","naturalHeight","ctx","getContext","drawImage","font","fillStyle","x","y","i","text","Lrig","fillText","LB","nLB","lrigKeys","lbList","flatMap","_ref","name","attr","Array","count","fill","nlbList","_ref2","toDataURL","adjustDeck","cardName","delta","lb","isLrig","maxCount","prev","_prev$cardName","prevCount","newCount","Math","max","min","copy","_objectSpread","[object Object]","currentDeck","deckEntries","entries","totalCount","reduce","acc","_ref6","v","lbCount","_ref7","React","className","placeholder","value","onChange","e","target","onKeyDown","onClick","style","marginLeft","checked","handleAddSaba","find","alert","handleOutputClick","getCardNumbers","deck","_ref3","_cards$find","info","lrigList","mainList","lbCards","_ref4","nonLbCards","_ref5","fromEntries","nonLbList","all","join","openImageInNewTab","imageUrl","newTab","window","open","body","innerHTML","current","complete","onload","map","toggleField","toggleDisplayField","cursor","href","rel","fontSize","stopPropagation","marginTop","dangerouslySetInnerHTML","__html","justifyContent","Fragment","margin","values","listStyle","paddingLeft","_ref8","display","alignItems","marginRight","disabled","opacity","ref","src","position","top","left","right","bottom","backgroundColor","zIndex","padding","borderRadius","maxWidth","background","border","readOnly","whiteSpace","fontFamily","handleCopy","navigator","clipboard","writeText","catch","lines","line","newMain","newLrig","cardNumber","_target$name","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.0cdbef53.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const [cards, setCards] = useState([]);\r\n  const [filtered, setFiltered] = useState([]);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [useRegex, setUseRegex] = useState(false);\r\n  const [searchFields, setSearchFields] = useState({\r\n    カード名: true,\r\n    効果テキスト: true,\r\n    ライフバースト: false,\r\n    カード種類: false,\r\n    カードタイプ: false,\r\n  });\r\n  const [displayFields, setDisplayFields] = useState({\r\n    カード種類: true,\r\n    カードタイプ: false,\r\n    色: false,\r\n    レベル: false,\r\n    コスト: false,\r\n    パワー: false,\r\n    効果テキスト: true,\r\n    ライフバースト: false,\r\n    使用タイミング: false,\r\n  });\r\n  const [deckMain, setDeckMain] = useState({});\r\n  const [deckLrig, setDeckLrig] = useState({});\r\n  const [showMainDeck, setShowMainDeck] = useState(true);\r\n  const [minimized, setMinimized] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [outputText, setOutputText] = useState(\"\");\r\n  const [showImportModal, setShowImportModal] = useState(false);\r\n  const [importText, setImportText] = useState(\"\");\r\n  const imageRef = useRef(null);\r\n\r\nconst toHiragana = (str = \"\") =>\r\n  str.replace(/[\\u30a1-\\u30f6]/g, ch =>\r\n    String.fromCharCode(ch.charCodeAt(0) - 0x60)\r\n  );\r\n  \r\n  const displayOrder = [\r\n    \"カード種類\",\r\n    \"カードタイプ\",\r\n    \"色\",\r\n    \"レベル\",\r\n    \"コスト\",\r\n    \"パワー\",\r\n    \"効果テキスト\",\r\n    \"ライフバースト\",\r\n    \"使用タイミング\",\r\n  ];\r\n\r\n  const fieldLabels = {\r\n    カード名: \"カード名\",\r\n    効果テキスト: \"効果テキスト\",\r\n    ライフバースト: \"LB\",\r\n    カード種類: \"種類\",\r\n    カードタイプ: \"タイプ\",\r\n    色: \"色\",\r\n    レベル: \"Lv\",\r\n    コスト: \"コスト\",\r\n    パワー: \"パワー\",\r\n    使用タイミング: \"タイミング\",\r\n  };\r\n\r\n  const isLrigCard = (type) =>\r\n    [\"ルリグ\", \"アシストルリグ\", \"ピース\", \"アーツ\"].includes(type);\r\n\r\n  useEffect(() => {\r\n    fetch(`${process.env.PUBLIC_URL}/cards.json?t=${Date.now()}`)\r\n      .then((res) => res.json())\r\n      .then((data) => setCards(data));\r\n  }, []);\r\n\r\nconst handleSearch = () => {\r\n  const keywords = query.trim().split(/\\s+/).filter(Boolean);\r\n  const activeFields = Object.keys(searchFields).filter((key) => searchFields[key]);\r\n\r\n  const result = cards.filter((card) =>\r\n    keywords.every((kw) => {\r\n      const normalizedKw = toHiragana(kw.toLowerCase());\r\n      const regex = useRegex ? new RegExp(kw, \"i\") : null;\r\n\r\n      return activeFields.some((field) => {\r\n        const raw = (card[field] || \"\").toString();\r\n\r\n        // 「カード名」フィールドのときだけ、カード名＋読み方を両方チェック\r\n        if (field === \"カード名\" && !useRegex) {\r\n          // ① 元のカード名（部分一致、大文字小文字無視）\r\n          const hitName = raw.toLowerCase().includes(kw.toLowerCase());\r\n          // ② カードの読み方（カタカナ→ひらがな化して、ひらがな検索を可能に）\r\n          const reading = card[\"カードの読み方\"] || \"\";\r\n          const hira = toHiragana(reading.toLowerCase());\r\n          const hitReading = hira.includes(normalizedKw);\r\n          return hitName || hitReading;\r\n        }\r\n\r\n        // 正規表現モードなら、カード名／読み方いずれも regex.test でチェック\r\n        if (field === \"カード名\" && useRegex) {\r\n          const reading = card[\"カードの読み方\"] || \"\";\r\n          return regex.test(raw) || regex.test(reading);\r\n        }\r\n\r\n        // その他フィールドは従来通り\r\n        return useRegex\r\n          ? regex.test(raw)\r\n          : raw.toLowerCase().includes(kw.toLowerCase());\r\n      });\r\n    })\r\n  );\r\n\r\n  // 重複カード名を除いてセット\r\n  const seen = new Set();\r\n  const unique = result.filter((c) => {\r\n    if (seen.has(c[\"カード名\"])) return false;\r\n    seen.add(c[\"カード名\"]);\r\n    return true;\r\n  });\r\n  setFiltered(unique);\r\n};\r\n\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\") handleSearch();\r\n  };\r\n\r\n  const toggleField = (field) => {\r\n    setSearchFields((prev) => ({ ...prev, [field]: !prev[field] }));\r\n  };\r\n\r\n  const drawDeckOnTemplate = (\r\n    img,\r\n    cardList,\r\n    numList\r\n  ) => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = img.naturalWidth;\r\n    canvas.height = img.naturalHeight;\r\n\r\n    const ctx = canvas.getContext(\"2d\");\r\n    if (!ctx) return null;\r\n\r\n    // 背景画像描画\r\n    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n    \r\n    // テキスト設定\r\n    ctx.font = `16px sans-serif`;\r\n    ctx.fillStyle = \"black\";\r\n\r\n    const lineHeight = 46;\r\n\r\n    // ルリグデッキのカードナンバー描画\r\n    // 最初の6枚\r\n    let x = 200;\r\n    let y = 619;\r\n    for (let i = 0; i < 6; i++) {\r\n      const text = `${numList.Lrig[i]}`;\r\n      ctx.fillText(text, x, y + i * lineHeight);\r\n    }\r\n    // 次の6枚\r\n    x = 875;\r\n    for (let i = 6; i < numList.Lrig.length; i++) {\r\n      const text = `${numList.Lrig[i]}`;\r\n      ctx.fillText(text, x, y + (i - 6) * lineHeight);\r\n    }\r\n\r\n    // LBのカードナンバー描画\r\n    // 最初の10枚\r\n    x = 200;\r\n    y = 1040;\r\n    for (let i = 0; i < 10; i++) {\r\n      const text = `${numList.LB[i]}`;\r\n      ctx.fillText(text, x, y + i * lineHeight);\r\n    }\r\n    // 次の10枚\r\n    x = 875;\r\n    for (let i = 10; i < 20; i++) {\r\n      const text = `${numList.LB[i]}`;\r\n      ctx.fillText(text, x, y + (i - 10) * lineHeight);\r\n    }\r\n\r\n    // nLBのカードナンバー描画\r\n    // 最初の10枚\r\n    x = 200;\r\n    y = 1647;\r\n    for (let i = 0; i < 10; i++) {\r\n      const text = `${numList.nLB[i]}`;\r\n      ctx.fillText(text, x, y + i * lineHeight);\r\n    }\r\n    // 次の10枚\r\n    x = 875;\r\n    for (let i = 10; i < 20; i++) {\r\n      const text = `${numList.nLB[i]}`;\r\n      ctx.fillText(text, x, y + (i - 10) * lineHeight);\r\n    }\r\n\r\n    // ルリグデッキのカード名描画\r\n    // 最初の6枚\r\n    x = 352;\r\n    y = 619;\r\n    const lrigKeys = Object.keys(cardList.Lrig);\r\n    for (let i = 0; i < 6; i++) {\r\n      const text = `${lrigKeys[i]}`;\r\n      ctx.fillText(text, x, y + i * lineHeight);\r\n    }\r\n    // 次の6枚\r\n    x = 1026;\r\n    for (let i = 6; i < lrigKeys.length; i++) {\r\n      const text = `${lrigKeys[i]}`;\r\n      ctx.fillText(text, x, y + (i - 6) * lineHeight);\r\n    }\r\n\r\n    // メインデッキのLBカード名描画\r\n    // 最初の10枚\r\n    x = 450;\r\n    y = 1040;\r\n    const lbList = cardList.LB.flatMap(([name, attr]) => Array(attr.count).fill(name));\r\n    for (let i = 0; i < 10; i++) {\r\n      const text = `${lbList[i]}`;\r\n      ctx.fillText(text, x, y + i * lineHeight);\r\n    }\r\n    // 次の10枚\r\n    x = 1124;\r\n    for (let i = 10; i < lbList.length; i++) {\r\n      const text = `${lbList[i]}`;\r\n      ctx.fillText(text, x, y + (i - 10) * lineHeight);\r\n    }\r\n\r\n    // メインデッキのnLBカード名描画\r\n    // 最初の10枚\r\n    x = 352;\r\n    y = 1647;\r\n    const nlbList = cardList.nLB.flatMap(([name, attr]) => Array(attr.count).fill(name));\r\n    for (let i = 0; i < 10; i++) {\r\n      const text = `${nlbList[i]}`;\r\n      ctx.fillText(text, x, y + i * lineHeight);\r\n    }\r\n    // 次の10枚\r\n    x = 1026;\r\n    for (let i = 10; i < nlbList.length; i++) {\r\n      const text = `${nlbList[i]}`;\r\n      ctx.fillText(text, x, y + (i - 10) * lineHeight);\r\n    }\r\n\r\n    return canvas.toDataURL(\"image/png\");\r\n  };\r\n\r\n  // デッキリストからカード名でカード番号を引き当てる関数\r\n  const handleOutputClick = () => {\r\n    const getCardNumbers = (deck) =>\r\n     Object.entries(deck).flatMap(([name, info]) =>\r\n        Array(info.count).fill(\r\n         cards.find((c) => c[\"カード名\"] === name)?.[\"カード番号\"] || \"UNKNOWN\"\r\n       )\r\n      );\r\n\r\n    // ルリグデッキのカード番号リスト取得\r\n    const lrigList = getCardNumbers(deckLrig);\r\n\r\n    const mainList = Object.entries(deckMain);\r\n    const lbCards = mainList.filter(([, info]) => info.ライフバースト && info.ライフバースト !== \"―\");\r\n    const nonLbCards = mainList.filter(([, info]) => !info.ライフバースト || info.ライフバースト === \"―\");\r\n\r\n    // メインデッキ・LBありのカード番号リスト取得\r\n    const lbList = getCardNumbers(Object.fromEntries(lbCards));\r\n    // メインデッキ・LBなしのカード番号リスト取得\r\n    const nonLbList = getCardNumbers(Object.fromEntries(nonLbCards));\r\n\r\n    const all = [...lrigList, ...lbList, ...nonLbList];\r\n    const cardList = {Lrig:deckLrig, LB:lbCards, nLB:nonLbCards};\r\n    const numList = {Lrig:lrigList, LB:lbList, nLB:nonLbList}\r\n\r\n    setOutputText(all.join(\"\\n\"));\r\n    setShowModal(true);\r\n\r\n    const openImageInNewTab = (imageUrl) => {\r\n      if (!imageUrl) return;\r\n      const newTab = window.open();\r\n      if (newTab) {\r\n        newTab.document.body.innerHTML = `<img src=\"${imageUrl}\" style=\"max-width:100%\">`;\r\n      } else {\r\n        alert(\"ポップアップブロックが有効かもしれません。\");\r\n      }\r\n    };\r\n    const img = imageRef.current;\r\n    if (!img) return;\r\n\r\n    if (!img.complete) {\r\n      img.onload = () => {\r\n      const imageUrl = drawDeckOnTemplate(img, cardList, numList);\r\n      openImageInNewTab(imageUrl);\r\n      };\r\n    } else {\r\n      const imageUrl = drawDeckOnTemplate(img, cardList, numList);\r\n      openImageInNewTab(imageUrl);\r\n    }\r\n  };\r\n\r\n  const handleAddSaba = () => {\r\n    const card = cards.find((c) => c[\"カード番号\"] === \"WXDi-D03-020\");\r\n    if (!card) {\r\n      alert(\"カード WXDi-D03-020 が見つかりませんでした。\");\r\n      return;\r\n    }\r\n\r\n    setDeckMain((prev) => ({\r\n      ...prev,\r\n      [card[\"カード名\"]]: {\r\n        count: 4,\r\n        ライフバースト: card[\"ライフバースト\"],\r\n        カード種類: card[\"カード種類\"]\r\n      }\r\n    }));\r\n  };\r\n\r\n  const handleCopy = () => {\r\n    navigator.clipboard.writeText(outputText)\r\n    .then(() => {\r\n      alert(\"コピーしました！\");\r\n    })\r\n    .catch(() => {\r\n      alert(\"コピーに失敗しました。\");\r\n    });\r\n  };\r\n\r\n  const toggleDisplayField = (field) => {\r\n    setDisplayFields((prev) => ({ ...prev, [field]: !prev[field] }));\r\n  };\r\n\r\n  const adjustDeck = (cardName, delta, type, lb) => {\r\n    const isLrig = isLrigCard(type);\r\n    const setDeck = isLrig ? setDeckLrig : setDeckMain;\r\n    const deck = isLrig ? deckLrig : deckMain;\r\n    const maxCount = isLrig ? 1 : 4;\r\n\r\n    setDeck((prev) => {\r\n      const prevCount = prev[cardName]?.count || 0;\r\n      const newCount = Math.max(0, Math.min(maxCount, prevCount + delta));\r\n      if (newCount === 0) {\r\n        const copy = { ...prev };\r\n        delete copy[cardName];\r\n        return copy;\r\n      }\r\n      return {\r\n        ...prev,\r\n        [cardName]: { count: newCount, ライフバースト: lb, カード種類: type },\r\n      };\r\n    });\r\n  };\r\n\r\n  const currentDeck = showMainDeck ? deckMain : deckLrig;\r\n  const deckEntries = Object.entries(currentDeck);\r\n  const totalCount = deckEntries.reduce((acc, [, v]) => acc + v.count, 0);\r\n  const lbCount = deckEntries.reduce(\r\n  (acc, [, v]) =>\r\n    (v.ライフバースト && v.ライフバースト !== \"―\") ? acc + v.count : acc,\r\n  0\r\n);\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header><h1>WIXOSS カード検索</h1></header>\r\n      <div className=\"container\">\r\n      <div className=\"header-fixed\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"検索...\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value)}\r\n          onKeyDown={handleKeyDown}\r\n        />\r\n        <button onClick={handleSearch}>検索</button>\r\n        <label style={{ marginLeft: \"10px\" }}>\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={useRegex}\r\n            onChange={() => setUseRegex(!useRegex)}\r\n          /> 正規表現\r\n        </label>\r\n<button style={{ marginLeft: \"16px\" }} onClick={handleAddSaba}>\r\n  鯖＃\r\n</button>\r\n        <button style={{ marginLeft: \"16px\" }} onClick={handleOutputClick}>\r\n        出力\r\n        </button>\r\n          <button style={{ marginLeft: \"8px\" }} onClick={() => setShowImportModal(true)}>\r\n  インポート\r\n</button>\r\n\r\n        <div className=\"field-controls\">\r\n          <strong>検索対象:</strong>\r\n          {Object.keys(searchFields).map((field) => (\r\n            <label key={field} style={{ marginLeft: \"10px\" }}>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={searchFields[field]}\r\n                onChange={() => toggleField(field)}\r\n              /> {fieldLabels[field] || field}\r\n            </label>\r\n          ))}\r\n        </div>\r\n        <div className=\"field-controls\">\r\n          <strong>表示項目:</strong>\r\n          {displayOrder.map((field) => (\r\n            <label key={field} style={{ marginLeft: \"10px\" }}>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={displayFields[field]}\r\n                onChange={() => toggleDisplayField(field)}\r\n              /> {fieldLabels[field] || field}\r\n            </label>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"table-container search-result\">\r\n            {filtered.map((card, i) => (\r\n              <div key={i} className=\"card-item\"> \r\n                  <span\r\n                    style={{ cursor: \"pointer\" }}\r\n                    onClick={() =>\r\n                      adjustDeck(\r\n                        card[\"カード名\"],\r\n                        1,\r\n                        card[\"カード種類\"],\r\n                        card[\"ライフバースト\"]\r\n                      )\r\n                    }\r\n                    className=\"cardname\"\r\n                  >\r\n                    {card[\"カード名\"]}\r\n                  </span>\r\n                  <a\r\n                    href={`https://www.takaratomy.co.jp/products/wixoss/library/card/card_detail.php?card_no=${card[\"カード番号\"]}`}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                    style={{ marginLeft: \"0.3em\", fontSize: \"0.8em\" }}\r\n                    onClick={(e) => e.stopPropagation()}\r\n                  >\r\n                    ❔\r\n                  </a>\r\n                <div className=\"attr\" style={{ marginTop: \"0.3em\" }}>\r\n      <div className=\"row\">\r\n        <div className=\"type\"><strong>種類:</strong> {card[\"カード種類\"]}</div>\r\n        <div className=\"color\"><strong>色:</strong> {card[\"色\"]}</div>\r\n        <div><strong>レベル:</strong> {card[\"レベル\"]}</div>\r\n        <div><strong>コスト:</strong><span dangerouslySetInnerHTML={{\r\n            __html: (card[\"コスト\"] || \"\").replace(/<br>/g, \" \"),\r\n          }}></span></div>\r\n        <div><strong>パワー:</strong> {card[\"パワー\"]}</div>\r\n        <div><strong>タイプ:</strong><span dangerouslySetInnerHTML={{\r\n            __html: (card[\"カードタイプ\"] || \"\").replace(/<br>/g, \" \"),\r\n          }}></span></div>\r\n\r\n        <div><strong>タイミング:</strong><span dangerouslySetInnerHTML={{\r\n            __html: (card[\"使用タイミング\"] || \"\").replace(/<br>/g, \" \"),\r\n          }}></span></div>\r\n      </div>\r\n      <div className=\"LB\">\r\n        <div><strong>LB:</strong> {card[\"ライフバースト\"]}</div>\r\n      </div>\r\n      <div className=\"text\">\r\n        <span\r\n          dangerouslySetInnerHTML={{\r\n            __html: (card[\"効果テキスト\"] || \"\").replace(/\\n/g, \"<br>\"),\r\n          }}\r\n        />\r\n      </div>\r\n      </div>\r\n    </div>\r\n  ))}\r\n</div>\r\n\r\n<div className=\"deck-box\">\r\n  <div className=\"deck-header\" style={{ justifyContent: minimized ? \"flex-end\" : \"space-between\" }}>\r\n    {!minimized && (\r\n      <h3>{showMainDeck ? \"現在のメインデッキ\" : \"現在のルリグデッキ\"}</h3>\r\n    )}\r\n    <div>\r\n      {!minimized && (\r\n        <button onClick={() => setShowMainDeck(!showMainDeck)} className=\"deck-toggle-button\">\r\n          {showMainDeck ? \"ルリグ\" : \"メイン\"}\r\n        </button>\r\n      )}\r\n      <button onClick={() => setMinimized(!minimized)}>\r\n        {minimized ? \"▲\" : \"▼\"}\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  {!minimized && (\r\n    <>\r\n      <p style={{ margin: 0, fontSize: \"1em\" }}>\r\n        {showMainDeck\r\n          ? `ルリグデッキ：${Object.values(deckLrig).reduce((acc, v) => acc + v.count, 0)}枚`\r\n          : `メインデッキ：${Object.values(deckMain).reduce((acc, v) => acc + v.count, 0)}枚`}\r\n      </p>\r\n      <p>枚数: {totalCount} {showMainDeck && `/ LB: ${lbCount}`}</p>\r\n      <ul style={{ listStyle: \"none\", paddingLeft: 0 }}>\r\n        {deckEntries.map(([name, info]) => (\r\n          <li\r\n            key={name}\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <span>{info.ライフバースト && info.ライフバースト !== \"―\" ? \"★\" : \"\"}{name}</span>\r\n            <span style={{ marginLeft: \"0.5em\", display: \"flex\", alignItems: \"center\" }}>\r\n              <button\r\n                onClick={() =>\r\n                  adjustDeck(name, -1, info.カード種類, info.ライフバースト)\r\n                }\r\n                style={{ marginRight: 4 }}\r\n              >\r\n                －\r\n              </button>\r\n              <span>×{info.count}</span>\r\n              {!isLrigCard(info.カード種類) && (\r\n                <button\r\n                  onClick={() =>\r\n                    adjustDeck(name, 1, info.カード種類, info.ライフバースト)\r\n                  }\r\n                  disabled={info.count >= 4}\r\n                  style={{ marginLeft: 4, opacity: info.count >= 4 ? 0.5 : 1 }}\r\n                >\r\n                  ＋\r\n                </button>\r\n              )}\r\n            </span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  )}\r\n  <img ref={imageRef} src={`${process.env.PUBLIC_URL}/images/template.png`} style={{ display: 'none' }} />\r\n</div>\r\n\r\n\r\n{showModal && (\r\n  <div style={{\r\n    position: \"fixed\",\r\n    top: 0, left: 0, right: 0, bottom: 0,\r\n    backgroundColor: \"rgba(0,0,0,0.5)\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    zIndex: 1000\r\n  }}>\r\n    <div style={{\r\n      backgroundColor: \"white\",\r\n      padding: \"20px\",\r\n      borderRadius: \"8px\",\r\n      width: \"80%\",\r\n      maxWidth: \"500px\",\r\n      position: \"relative\"\r\n    }}>\r\n      <button onClick={() => setShowModal(false)} style={{\r\n        position: \"absolute\",\r\n        top: \"10px\",\r\n        right: \"10px\",\r\n        background: \"none\",\r\n        border: \"none\",\r\n        fontSize: \"1.2em\",\r\n        cursor: \"pointer\"\r\n      }}>×</button>\r\n      <h3>デッキ出力</h3>\r\n      <textarea\r\n        value={outputText}\r\n        readOnly\r\n        style={{ width: \"100%\", height: \"300px\", whiteSpace: \"pre\", fontFamily: \"monospace\" }}\r\n      />\r\n      <button\r\n  onClick={handleCopy}\r\n  style={{\r\n    marginTop: \"10px\",\r\n    padding: \"6px 12px\",\r\n    fontSize: \"1em\",\r\n    cursor: \"pointer\"\r\n  }}\r\n>\r\n  コピー\r\n</button>\r\n    </div>\r\n  </div>\r\n)}\r\n{showImportModal && (\r\n  <div style={{\r\n    position: \"fixed\",\r\n    top: 0, left: 0, right: 0, bottom: 0,\r\n    backgroundColor: \"rgba(0,0,0,0.5)\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    zIndex: 1000\r\n  }}>\r\n    <div style={{\r\n      backgroundColor: \"white\",\r\n      padding: \"20px\",\r\n      borderRadius: \"8px\",\r\n      width: \"80%\",\r\n      maxWidth: \"500px\",\r\n      position: \"relative\"\r\n    }}>\r\n      <button onClick={() => setShowImportModal(false)} style={{\r\n        position: \"absolute\",\r\n        top: \"10px\",\r\n        right: \"10px\",\r\n        background: \"none\",\r\n        border: \"none\",\r\n        fontSize: \"1.2em\",\r\n        cursor: \"pointer\"\r\n      }}>×</button>\r\n      <h3>デッキインポート</h3>\r\n      <textarea\r\n        value={importText}\r\n        onChange={(e) => setImportText(e.target.value)}\r\n        placeholder=\"カード番号を1行ずつ貼り付けてください\"\r\n        style={{ width: \"100%\", height: \"300px\", whiteSpace: \"pre\", fontFamily: \"monospace\" }}\r\n      />\r\n      <button\r\n        onClick={() => {\r\n          const lines = importText\r\n            .split(/\\r?\\n/)\r\n            .map((line) => line.trim())\r\n            .filter(Boolean);\r\n\r\n          const newMain = {};\r\n          const newLrig = {};\r\n\r\n          for (const cardNumber of lines) {\r\n            const card = cards.find((c) => c[\"カード番号\"] === cardNumber);\r\n            if (!card) continue;\r\n\r\n            const name = card[\"カード名\"];\r\n            const isLrig = isLrigCard(card[\"カード種類\"]);\r\n\r\n            const target = isLrig ? newLrig : newMain;\r\n            const max = isLrig ? 1 : 4;\r\n            const prevCount = target[name]?.count || 0;\r\n            if (prevCount < max) {\r\n              target[name] = {\r\n                count: prevCount + 1,\r\n                ライフバースト: card[\"ライフバースト\"],\r\n                カード種類: card[\"カード種類\"]\r\n              };\r\n            }\r\n          }\r\n\r\n          setDeckMain(newMain);\r\n          setDeckLrig(newLrig);\r\n          setShowImportModal(false);\r\n        }}\r\n        style={{ marginTop: \"10px\", padding: \"6px 12px\", fontSize: \"1em\", cursor: \"pointer\" }}\r\n      >\r\n        読み込み\r\n      </button>\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n\r\n</div>\r\n<footer>nebelTal</footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}